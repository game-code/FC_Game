{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\script\\enemy/assets\\script\\enemy\\EnemySpawn.ts"],"names":[],"mappings":";;;;;AAAA,yCAAoC;AAE9B,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAAQ,CAAmB;AAG5C;IAAwC,8BAAY;IADpD;QAAA,qEA8DC;QA1DG,cAAQ,GAAc,IAAI,CAAC;QAE3B,gBAAU,GAAgB,IAAI,CAAA;;QAuD9B,kBAAkB;IACtB,CAAC;mBA7DoB,UAAU;IAQ3B,wBAAwB;IAExB,2BAAM,GAAN;QACI,YAAU,CAAC,QAAQ,GAAG,IAAI,CAAA;QAC1B,IAAI,CAAC,UAAU,GAAG,IAAI,EAAE,CAAC,QAAQ,CAAC,mBAAS,CAAC,CAAA;QAC5C,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC;YAC1B,IAAI,SAAS,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;YAC7C,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,SAAS,CAAC,CAAA;QAClC,CAAC;IACL,CAAC;IAED,0BAAK,GAAL;IAEA,CAAC;IAED,6BAAQ,GAAR;QAAA,iBAKC;QAJG,EAAE,CAAC,GAAG,CAAC,KAAK,CAAC,CAAA;QACb,IAAI,CAAC,QAAQ,CAAC;YACV,KAAI,CAAC,WAAW,EAAE,CAAA;QACtB,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAA;IACjB,CAAC;IAED,8BAAS,GAAT;IAEA,CAAC;IAED,gCAAW,GAAX;QACI,IAAI,KAAK,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAA;QAC3B,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAA;QAC/B,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;QACrC,uCAAuC;IAC3C,CAAC;IAGD,WAAW;IACX,6BAAQ,GAAR;QACI,IAAI,KAAc,CAAA;QAClB,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;YAC9B,IAAI,SAAS,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;YAC7C,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,SAAS,CAAC,CAAA;QAClC,CAAC;QAED,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,CAAA;QAE7B,MAAM,CAAC,KAAK,CAAA;IAChB,CAAC;IAED,6BAAQ,GAAR,UAAS,KAAc;QACnB,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YACR,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,KAAK,CAAC,CAAA;QAC9B,CAAC;IACL,CAAC;IApDM,mBAAQ,GAAe,IAAI,CAAA;IAJlC;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;gDACO;IAHV,UAAU;QAD9B,OAAO;OACa,UAAU,CA6D9B;IAAD,iBAAC;;CA7DD,AA6DC,CA7DuC,EAAE,CAAC,SAAS,GA6DnD;kBA7DoB,UAAU","file":"","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\enemy","sourcesContent":["import EnemyBase from \"./EnemyBase\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class EnemySpawn extends cc.Component {\r\n\r\n    @property(cc.Prefab)\r\n    enemyPre: cc.Prefab = null;\r\n\r\n    enemysPool: cc.NodePool = null\r\n\r\n    static instance: EnemySpawn = null\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        EnemySpawn.instance = this\r\n        this.enemysPool = new cc.NodePool(EnemyBase)\r\n        for (let i = 0; i < 10; ++i) {\r\n            let enemyNode = cc.instantiate(this.enemyPre)\r\n            this.enemysPool.put(enemyNode)\r\n        }\r\n    }\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n    onEnable() {\r\n        cc.log('one')\r\n        this.schedule(() => {\r\n            this.createEnemy()\r\n        }, 0.2, 5, 0)\r\n    }\r\n\r\n    onDisable() {\r\n\r\n    }\r\n\r\n    createEnemy() {\r\n        let enemy = this.getEnemy()\r\n        enemy.parent = this.node.parent\r\n        enemy.setPosition(this.node.position)\r\n        // enemy.getComponent(EnemyBase).init()\r\n    }\r\n\r\n\r\n    // nodePool\r\n    getEnemy(): cc.Node {\r\n        let enemy: cc.Node\r\n        if (this.enemysPool.size() <= 0) {\r\n            let enemyNode = cc.instantiate(this.enemyPre)\r\n            this.enemysPool.put(enemyNode)\r\n        }\r\n\r\n        enemy = this.enemysPool.get()\r\n\r\n        return enemy\r\n    }\r\n\r\n    putEnemy(enemy: cc.Node) {\r\n        if (enemy) {\r\n            this.enemysPool.put(enemy)\r\n        }\r\n    }\r\n    // update (dt) {},\r\n}\r\n"]}