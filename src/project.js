require=function e(t,o,n){function i(r,c){if(!o[r]){if(!t[r]){var s="function"==typeof require&&require;if(!c&&s)return s(r,!0);if(a)return a(r,!0);var p=new Error("Cannot find module '"+r+"'");throw p.code="MODULE_NOT_FOUND",p}var l=o[r]={exports:{}};t[r][0].call(l.exports,function(e){var o=t[r][1][e];return i(o||e)},l,l.exports,e,t,o,n)}return o[r].exports}for(var a="function"==typeof require&&require,r=0;r<n.length;r++)i(n[r]);return i}({AudioManager:[function(e,t,o){"use strict";cc._RF.push(t,"4893cZrqdRLbaDdq8wPx7Hy","AudioManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./Config"),i=cc._decorator,a=i.ccclass,r=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.bgMusic=null,t.jqingEnterBgMusic=null,t.jqingStartBgMusic=null,t.zidan=null,t.bgMusicId=-1,t}return __extends(t,e),o=t,t.prototype.onLoad=function(){o.instance=this},t.prototype.start=function(){this.playMusic(this.bgMusic)},t.prototype.playEffectByType=function(e){switch(e){case n.AudioType.PLYAER_ZIDAN:this.playEffect(this.zidan);break;case n.AudioType.PLYAER_GET:case n.AudioType.PLYAER_DEAD:}},t.prototype.playBossMusic=function(){this.playMusic(this.jqingEnterBgMusic)},t.prototype.playMusic=function(e){-1!=this.bgMusicId&&cc.audioEngine.stop(this.bgMusicId),this.bgMusicId=cc.audioEngine.play(e,!0,1)},t.prototype.getMusicDuration=function(e){return cc.audioEngine.getDuration(e)},t.prototype.playEffect=function(e,t){return void 0===t&&(t=!1),cc.audioEngine.play(e,t,1)},t.prototype.stopEffect=function(e){cc.audioEngine.stop(e)},t.prototype.stopAllAudio=function(e){cc.audioEngine.stopAll()},t.instance=null,__decorate([r(cc.Label)],t.prototype,"label",void 0),__decorate([r(cc.AudioClip)],t.prototype,"bgMusic",void 0),__decorate([r(cc.AudioClip)],t.prototype,"jqingEnterBgMusic",void 0),__decorate([r(cc.AudioClip)],t.prototype,"jqingStartBgMusic",void 0),__decorate([r(cc.AudioClip)],t.prototype,"zidan",void 0),t=o=__decorate([a],t);var o}(cc.Component);o.default=c,cc._RF.pop()},{"./Config":"Config"}],BaseLogic:[function(e,t,o){"use strict";cc._RF.push(t,"e7efbpDO3JA1J+woozzQgMX","BaseLogic"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=(n.ccclass,n.property,function(){return function(){}}());o.default=i,cc._RF.pop()},{}],Bird:[function(e,t,o){"use strict";cc._RF.push(t,"d5d0eCivclCJKMRvFSHOxAL","Bird"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./EnemyBase"),i=e("./EnemySpawn"),a=e("../player/Player"),r=e("../Config"),c=e("./BombPool"),s=cc._decorator,p=s.ccclass,l=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.moveSpeed=-200,t}return __extends(t,e),t.prototype.start=function(){var e=[],t=cc.moveBy(.5,cc.p(.1*this.moveSpeed,25)),o=cc.moveBy(1,cc.p(.2*this.moveSpeed,-50)),n=cc.moveBy(1,cc.p(.2*this.moveSpeed,50));e.push(t);for(var i=0;i<10;i++)e.push(o),e.push(n);this.node.runAction(cc.sequence(e))},t.prototype.update=function(e){},t.prototype.onCollisionEnter=function(e,t){if("playerzidan"==e.node.group)return c.default.getInstance().bomb(this.node.position,1),void i.default.instance.putEnemy(this.node);if("player"==e.node.group){var o=e.node.getComponent(a.default).playerState;if(o==r.PlayerState.NORMAL||o==r.PlayerState.DIE)return c.default.getInstance().bomb(this.node.position,1),void i.default.instance.putEnemy(this.node)}},t.prototype.onCollisionStay=function(e,t){if("playerzidan"==e.node.group)return c.default.getInstance().bomb(this.node.position,1),void i.default.instance.putEnemy(this.node);if("player"==e.node.group){var o=e.node.getComponent(a.default).playerState;if(o==r.PlayerState.NORMAL||o==r.PlayerState.DIE)return c.default.getInstance().bomb(this.node.position,1),void i.default.instance.putEnemy(this.node)}},t=__decorate([p],t)}(n.default));o.default=l,cc._RF.pop()},{"../Config":"Config","../player/Player":"Player","./BombPool":"BombPool","./EnemyBase":"EnemyBase","./EnemySpawn":"EnemySpawn"}],BombPool:[function(e,t,o){"use strict";cc._RF.push(t,"7e57ds6zntKp4Qo5QXAv/Kd","BombPool"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=n.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bombPre=null,t.bombNodes=new cc.NodePool,t}return __extends(t,e),o=t,t.prototype.onLoad=function(){o.instance=this},t.getInstance=function(){return o.instance},t.prototype.start=function(){},t.prototype.bomb=function(e,t){var o=this;void 0===t&&(t=0);var n=this.getBomb();n.parent=this.node,n.setPosition(e);var i=n.getComponent(cc.Animation),a=1;switch(t){case 0:a=i.play("bomb01_ani").duration;break;case 1:a=i.play("bomb02_ani").duration}i&&this.scheduleOnce(function(){o.putBomb(n)},a)},t.prototype.getBomb=function(){if(this.bombNodes.size()<=0){var e=cc.instantiate(this.bombPre);this.bombNodes.put(e)}return this.bombNodes.get()},t.prototype.putBomb=function(e){e&&this.bombNodes.put(e)},t.instance=null,__decorate([a(cc.Prefab)],t.prototype,"bombPre",void 0),t=o=__decorate([i],t);var o}(cc.Component);o.default=r,cc._RF.pop()},{}],Config:[function(e,t,o){"use strict";cc._RF.push(t,"259982pYrJK2oh6fhqSx8GA","Config"),Object.defineProperty(o,"__esModule",{value:!0});!function(e){e[e.BORN=0]="BORN",e[e.PRETECTED=1]="PRETECTED",e[e.NORMAL=2]="NORMAL",e[e.DIE=3]="DIE"}(o.PlayerState||(o.PlayerState={}));!function(e){e[e.PLYAER_ZIDAN=0]="PLYAER_ZIDAN",e[e.PLYAER_DEAD=1]="PLYAER_DEAD",e[e.PLYAER_GET=2]="PLYAER_GET"}(o.AudioType||(o.AudioType={}));!function(e){e[e.SKILL_M=0]="SKILL_M",e[e.SKILL_B=1]="SKILL_B",e[e.SKILL_F=2]="SKILL_F",e[e.SKILL_S=3]="SKILL_S",e[e.SKILL_L=4]="SKILL_L",e[e.SKILL_R=5]="SKILL_R"}(o.SkillType||(o.SkillType={})),cc._RF.pop()},{}],DazuiEnemy:[function(e,t,o){"use strict";cc._RF.push(t,"47f8dqWXdlHsoUYEiO1QXG2","DazuiEnemy"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./EnemyBase"),i=e("./BombPool"),a=e("../Config"),r=e("../player/Player"),c=cc._decorator,s=c.ccclass,p=c.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pre=null,t.zidanTimes=2,t.shootTime=1,t}return __extends(t,e),t.prototype.onLoad=function(){this.shootFrequency=8,this.useTime=2},t.prototype.start=function(){},t.prototype.shoot=function(){var e=this,t=[],o=this.getComponent(cc.Animation);t.push(cc.callFunc(function(){o.play("dazui_open_ani")}));var n=o.getAnimationState("dazui_open_ani").duration;cc.log("time",n),t.push(cc.delayTime(n));for(var i=0;i<this.zidanTimes;++i)t.push(cc.callFunc(function(){var t=cc.instantiate(e.pre);t.parent=e.node.parent,t.position=e.node.position})),t.push(cc.delayTime(this.shootTime));t.push(cc.callFunc(function(){o.play("dazui_shut_ani")})),t.push(cc.delayTime(o.getAnimationState("dazui_shut_ani").duration)),this.node&&this.node.runAction(cc.sequence(t))},t.prototype.onCollisionEnter=function(e,t){if("playerzidan"==e.node.group)return i.default.getInstance().bomb(this.node.position),void this.node.destroy();if("player"==e.node.group){var o=e.node.getComponent(r.default).playerState;if(o==a.PlayerState.NORMAL||o==a.PlayerState.DIE)return i.default.getInstance().bomb(this.node.position),void this.node.destroy()}},t.prototype.onCollisionStay=function(e,t){if("playerzidan"==e.node.group)return i.default.getInstance().bomb(this.node.position),void this.node.destroy();if("player"==e.node.group){var o=e.node.getComponent(r.default).playerState;if(o==a.PlayerState.NORMAL||o==a.PlayerState.DIE)return i.default.getInstance().bomb(this.node.position),void this.node.destroy()}},__decorate([p(cc.Prefab)],t.prototype,"pre",void 0),t=__decorate([s],t)}(n.default);o.default=l,cc._RF.pop()},{"../Config":"Config","../player/Player":"Player","./BombPool":"BombPool","./EnemyBase":"EnemyBase"}],EnemyBase:[function(e,t,o){"use strict";cc._RF.push(t,"d30ccdpycxBT4DpjwPJK/Ul","EnemyBase"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../Follow"),i=cc._decorator,a=i.ccclass,r=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isUse=!1,t.isUsed=!1,t.triggerDis=568,t.shootFrequency=0,t.useTime=0,t}return __extends(t,e),t.prototype.start=function(){},t.prototype.update=function(e){var t=this.node.x-n.default.getTargetPos().x;this.isUse||this.isUsed?this.isUsed||t<-this.triggerDis&&(this.isUsed=!0,this.enabled=!1,this.unschedule(this.shoot)):t>0&&t<this.triggerDis&&(this.isUse=!0,this.isUsed=!1,this.enabled=!0,cc.log("dis",t),this.schedule(this.shoot,this.shootFrequency,this.useTime,0))},t.prototype.onDestroy=function(){this.unschedule(this.shoot)},t.prototype.shoot=function(){cc.log("没有复写此方法")},t=__decorate([a],t)}(cc.Component));o.default=r,cc._RF.pop()},{"../Follow":"Follow"}],EnemyNormalZidan:[function(e,t,o){"use strict";cc._RF.push(t,"6396b+gRmhNTZ/6nGMZW7F3","EnemyNormalZidan"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../Config"),i=e("../player/Player"),a=cc._decorator,r=a.ccclass,c=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=0,t.moveSpeed=100,t.moveDir=cc.p(0,0),t.aiTime=.2,t}return __extends(t,e),t.prototype.start=function(){},t.prototype.update=function(e){switch(this.type){case 0:if(this.aiTime-=e,this.aiTime<0){var t=i.default.getPlayerPos(),o=this.node.position;this.moveDir=t.sub(o),this.moveDir.normalizeSelf(),this.aiTime=1}this.node.setPosition(this.node.position.add(this.moveDir.mul(this.moveSpeed*e)))}},t.prototype.onCollisionEnter=function(e,t){if("playerzidan"!=e.node.group){if("player"==e.node.group){var o=e.node.getComponent(i.default).playerState;if(o==n.PlayerState.NORMAL||o==n.PlayerState.DIE)return void this.node.destroy()}}else this.node.destroy()},t.prototype.onCollisionStay=function(e,t){if("playerzidan"!=e.node.group){if("player"==e.node.group){var o=e.node.getComponent(i.default).playerState;if(o==n.PlayerState.NORMAL||o==n.PlayerState.DIE)return void this.node.destroy()}}else this.node.destroy()},t=__decorate([r],t)}(cc.Component));o.default=c,cc._RF.pop()},{"../Config":"Config","../player/Player":"Player"}],EnemySpawn:[function(e,t,o){"use strict";cc._RF.push(t,"ac37b7hBGZEH53uExjSDUlo","EnemySpawn"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./EnemyBase"),i=cc._decorator,a=i.ccclass,r=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enemyPre=null,t.enemysPool=null,t}return __extends(t,e),o=t,t.prototype.onLoad=function(){o.instance=this,this.enemysPool=new cc.NodePool(n.default);for(var e=0;e<10;++e){var t=cc.instantiate(this.enemyPre);this.enemysPool.put(t)}},t.prototype.start=function(){},t.prototype.onEnable=function(){var e=this;cc.log("one"),this.schedule(function(){e.createEnemy()},.2,5,0)},t.prototype.onDisable=function(){},t.prototype.createEnemy=function(){var e=this.getEnemy();e.parent=this.node.parent,e.setPosition(this.node.position)},t.prototype.getEnemy=function(){if(this.enemysPool.size()<=0){var e=cc.instantiate(this.enemyPre);this.enemysPool.put(e)}return this.enemysPool.get()},t.prototype.putEnemy=function(e){e&&this.enemysPool.put(e)},t.instance=null,__decorate([r(cc.Prefab)],t.prototype,"enemyPre",void 0),t=o=__decorate([a],t);var o}(cc.Component);o.default=c,cc._RF.pop()},{"./EnemyBase":"EnemyBase"}],EnemyZidanBase:[function(e,t,o){"use strict";cc._RF.push(t,"e1478tqcV1LIIM80ebV1e6N","EnemyZidanBase"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../player/Player"),i=e("../Config"),a=cc._decorator,r=a.ccclass,c=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onCollisionEnter=function(e,t){if("player"==e.node.group){var o=e.node.getComponent(n.default).playerState;if(o==i.PlayerState.NORMAL||o==i.PlayerState.DIE)return void this.node.destroy()}},t.prototype.onCollisionStay=function(e,t){if("player"==e.node.group){var o=e.node.getComponent(n.default).playerState;if(o==i.PlayerState.NORMAL||o==i.PlayerState.DIE)return void this.node.destroy()}},t=__decorate([r],t)}(cc.Component));o.default=c,cc._RF.pop()},{"../Config":"Config","../player/Player":"Player"}],Follow:[function(e,t,o){"use strict";cc._RF.push(t,"03b13ZeN3RLSZi1e1Fts1Sz","Follow"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./AudioManager"),i=e("./enemy/EnemySpawn"),a=cc._decorator,r=a.ccclass,c=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.target=null,t.bgUpAni=null,t.enemySpawn=null,t.speed=1,t.isPlayerAni=!1,t.isboss=!1,t.gameTime=0,t}return __extends(t,e),o=t,t.prototype.onLoad=function(){o.instance=this;var e=cc.follow(this.target,new cc.Rect(0,0,22600,3200));this.node.runAction(e),this.enemySpawn.enabled=!1,this.gameTime=0},t.getTargetPos=function(){return o.pos},t.prototype.start=function(){},t.prototype.update=function(e){this.gameTime+=e,this.target.x<12877?(this.target.x+=this.speed*e,this.target.x>7500&&this.target.x<=11e3&&!this.isPlayerAni?(this.bgUpAni.play().repeatCount=2,this.isPlayerAni=!0):this.target.x>11e3&&this.isPlayerAni,this.gameTime>2&&this.gameTime<3&&(this.enemySpawn.enabled=!0)):this.isboss||(this.isboss=!0,n.default.instance.playBossMusic()),this.target.x>2500&&this.target.x<12e3?this.target.y<=1520&&(this.target.y+=this.speed*e):this.target.x>12e3&&this.target.x<12877&&this.target.y>=923&&(this.target.x-=this.speed*e,this.target.y-=this.speed*e),o.pos=this.target.position},t.instance=null,t.pos=cc.p(),__decorate([c(cc.Node)],t.prototype,"target",void 0),__decorate([c(cc.Animation)],t.prototype,"bgUpAni",void 0),__decorate([c(i.default)],t.prototype,"enemySpawn",void 0),__decorate([c],t.prototype,"speed",void 0),t=o=__decorate([r],t);var o}(cc.Component);o.default=s,cc._RF.pop()},{"./AudioManager":"AudioManager","./enemy/EnemySpawn":"EnemySpawn"}],PlayerLogic:[function(e,t,o){"use strict";cc._RF.push(t,"399e7xjMvVLFb6gQadAVj0H","PlayerLogic"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../BaseLogic"),i=cc._decorator,a=(i.ccclass,i.property,function(e){function t(t){var o=e.call(this)||this;return o.moveSpeed=200,o.zidanMaxNum=5,o.zidanCurNum=0,o.zidanGapTime=.05,o.zidanAddTime=0,o.maxHp=16,o.curHp=16,o.atk=1,o.playerUI=t,o}return __extends(t,e),t.prototype.init=function(){},t}(n.default));o.default=a,cc._RF.pop()},{"../BaseLogic":"BaseLogic"}],Player:[function(e,t,o){"use strict";cc._RF.push(t,"f55c8c5S5tNILt6PoC9K+k+","Player"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./PlayerLogic"),i=e("../weapon/zidan"),a=e("../AudioManager"),r=e("../Config"),c=cc._decorator,s=c.ccclass,p=c.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.playerZidanPre=null,t.playerPao=null,t.followNode=null,t.playerBomb=null,t.keyCodeMap={},t.curKey=-1,t.directionY=0,t.playerLogic=null,t.zidanNodes=null,t.playerState=r.PlayerState.NORMAL,t}return __extends(t,e),o=t,t.getPlayerPos=function(){return o.pos},t.prototype.onLoad=function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDonw,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),this.playerLogic=new n.default(this),this.zidanNodes=new cc.NodePool(i.default);for(var e=0;e<10;++e){var t=cc.instantiate(this.playerZidanPre);this.zidanNodes.put(t)}},t.prototype.onDestroy=function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDonw,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},t.prototype.onEnable=function(){cc.director.getCollisionManager().enabled=!0},t.prototype.onDisable=function(){cc.director.getCollisionManager().enabled=!1},t.prototype.onCollisionEnter=function(e,t){this._collisonHand(e,t)},t.prototype.reBorn=function(){var e=this;this.playerState=r.PlayerState.BORN,this.node.active=!0,this.node.position=this.followNode.position,this.node.setPositionX(this.followNode.position.x-565);var t=[];t.push(cc.moveBy(2,cc.p(400,0))),t.push(cc.callFunc(function(){e.playerState=r.PlayerState.PRETECTED})),t.push(cc.delayTime(3)),t.push(cc.callFunc(function(){e.playerState=r.PlayerState.NORMAL})),this.node.runAction(cc.blink(5,10)),this.node.runAction(cc.sequence(t))},t.prototype.onCollisionStay=function(e,t){this._collisonHand(e,t)},t.prototype.onCollisionExit=function(){},t.prototype.addBufferByType=function(e){switch(e){case r.SkillType.SKILL_M:this.playerLogic.moveSpeed+=50;break;case r.SkillType.SKILL_B:this.playerLogic.zidanMaxNum+=5;break;case r.SkillType.SKILL_F:this.playerLogic.zidanGapTime-=.01;break;case r.SkillType.SKILL_L:case r.SkillType.SKILL_S:case r.SkillType.SKILL_R:}},t.prototype._collisonHand=function(e,t){("collision"!=e.node.group||this.playerState!=r.PlayerState.NORMAL)&&!("enemy"==e.node.group&&this.playerState==r.PlayerState.NORMAL||"enemyzidan"==e.node.group&&this.playerState==r.PlayerState.NORMAL)?"enemyzidanbomb"!=e.node.group||this.playerState!=r.PlayerState.NORMAL||this._dieHand():this._dieHand()},t.prototype._dieHand=function(){var e=this;this.playerState=r.PlayerState.DIE,this.node.active=!1,this.playerBomb.position=this.node.position,this.playerBomb.active=!0;var t=this.playerBomb.getComponent(cc.Animation).play().duration;this.scheduleOnce(function(){e.playerBomb.active=!1,e.reBorn()},t)},t.prototype.onKeyDonw=function(e){switch(e.keyCode){case cc.KEY.up:case cc.KEY.w:this.directionY=1;break;case cc.KEY.down:case cc.KEY.s:this.directionY=-1;break;case cc.KEY.left:case cc.KEY.a:this.keyCodeMap[cc.KEY.a]=!0,this.curKey=cc.KEY.a;break;case cc.KEY.right:case cc.KEY.d:this.keyCodeMap[cc.KEY.d]=!0,this.curKey=cc.KEY.d;break;case cc.KEY.j:case cc.KEY.space:this.keyCodeMap[cc.KEY.j]=!0}},t.prototype.onKeyUp=function(e){switch(e.keyCode){case cc.KEY.up:case cc.KEY.w:this.directionY=0;break;case cc.KEY.down:case cc.KEY.s:this.directionY=0;break;case cc.KEY.left:case cc.KEY.a:this.keyCodeMap[cc.KEY.a]=!1;break;case cc.KEY.right:case cc.KEY.d:this.keyCodeMap[cc.KEY.d]=!1;break;case cc.KEY.j:case cc.KEY.space:this.keyCodeMap[cc.KEY.j]=!1}},t.prototype.getKeyPress=function(e){return this.keyCodeMap[e]},t.prototype.update=function(e){var t=this;if((this.playerState==r.PlayerState.NORMAL||this.playerState==r.PlayerState.PRETECTED)&&(this.keyCodeMap[cc.KEY.a]&&this.keyCodeMap[cc.KEY.d]?this.curKey==cc.KEY.a?this.getKeyPress(cc.KEY.a)?this.node.x-=this.playerLogic.moveSpeed*e:this.node.x+=this.playerLogic.moveSpeed*e:this.curKey==cc.KEY.d&&(this.getKeyPress(cc.KEY.d)?this.node.x+=this.playerLogic.moveSpeed*e:this.node.x-=this.playerLogic.moveSpeed*e):this.getKeyPress(cc.KEY.a)?this.node.x-=this.playerLogic.moveSpeed*e:this.getKeyPress(cc.KEY.d)&&(this.node.x+=this.playerLogic.moveSpeed*e),this.node.y+=this.playerLogic.moveSpeed*e*this.directionY,this.followNode.getPositionX()+this.node.width/2-this.node.getPositionX()>=565?this.node.x=this.followNode.getPositionX()-565+this.node.width/2:this.node.getPositionX()+this.node.width/2-this.followNode.getPositionX()>=565&&(this.node.x=this.followNode.getPositionX()+565-this.node.width/2),this.followNode.getPositionY()+this.node.height/2-this.node.getPositionY()>=320?this.node.y=this.followNode.getPositionY()-320+this.node.height/2:this.node.getPositionY()+this.node.height/2-this.followNode.getPositionY()>=320&&(this.node.y=this.followNode.getPositionY()+320-this.node.height/2),this.playerLogic.zidanAddTime+=e,this.keyCodeMap[cc.KEY.j]&&this.playerLogic.zidanAddTime>this.playerLogic.zidanGapTime&&this.playerLogic.zidanCurNum<this.playerLogic.zidanMaxNum)){a.default.instance.playEffectByType(r.AudioType.PLYAER_ZIDAN);var n=this.getZidan(),c=this.node.convertToWorldSpaceAR(this.playerPao.position),s=this.node.parent.convertToNodeSpaceAR(c);n.parent=this.node.parent,n.getComponent(i.default).init(s),n.getComponent(i.default).setPutCallBack(function(){t.playerLogic.zidanCurNum--,t.putZidan(n)}),this.playerLogic.zidanAddTime=0,this.playerLogic.zidanCurNum++}o.pos=this.node.position},t.prototype.getZidan=function(){if(this.zidanNodes.size()<=0){var e=cc.instantiate(this.playerZidanPre);this.zidanNodes.put(e)}return this.zidanNodes.get()},t.prototype.putZidan=function(e){e&&this.zidanNodes.put(e)},t.pos=cc.p(),__decorate([p(cc.Prefab)],t.prototype,"playerZidanPre",void 0),__decorate([p(cc.Node)],t.prototype,"playerPao",void 0),__decorate([p(cc.Node)],t.prototype,"followNode",void 0),__decorate([p(cc.Node)],t.prototype,"playerBomb",void 0),t=o=__decorate([s],t);var o}(cc.Component);o.default=l,cc._RF.pop()},{"../AudioManager":"AudioManager","../Config":"Config","../weapon/zidan":"Zidan","./PlayerLogic":"PlayerLogic"}],SkillEnemy:[function(e,t,o){"use strict";cc._RF.push(t,"3909aNIGHpGkZNzhAwn6xpz","SkillEnemy"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../EnemyBase"),i=e("../BombPool"),a=e("../../Config"),r=e("../../player/Player"),c=e("./Skill"),s=cc._decorator,p=s.ccclass,l=s.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skillPre=null,t.moveSpeed=cc.p(100,50),t.ySwitchTime=.5,t.swi=1,t.isGo=!1,t}return __extends(t,e),t.prototype.start=function(){this.triggerDis=1136},t.prototype.shoot=function(){this.isGo=!0;var e=[];e.push(cc.moveBy(.5,cc.p(0,25)));for(var t=0;t<6;++t)e.push(cc.moveBy(1,cc.p(0,-50))),e.push(cc.moveBy(1,cc.p(0,50)));this.node.runAction(cc.sequence(e))},t.prototype.update=function(t){e.prototype.update.call(this,t),this.isGo&&this.node.setPositionX(this.node.getPositionX()+-1*this.moveSpeed.x*t)},t.prototype.onCollisionEnter=function(e,t){if("playerzidan"==e.node.group){i.default.getInstance().bomb(this.node.position,0);var o=cc.instantiate(this.skillPre);return o.parent=this.node.parent,o.position=this.node.position,o.getComponent(c.default).getSkill(),void this.node.destroy()}if("player"==e.node.group){var n=e.node.getComponent(r.default).playerState;if(n==a.PlayerState.NORMAL||n==a.PlayerState.DIE)return i.default.getInstance().bomb(this.node.position,0),void this.node.destroy()}},t.prototype.onCollisionStay=function(e,t){if("playerzidan"==e.node.group)return i.default.getInstance().bomb(this.node.position,0),void this.node.destroy();if("player"==e.node.group){var o=e.node.getComponent(r.default).playerState;if(o==a.PlayerState.NORMAL||o==a.PlayerState.DIE)return i.default.getInstance().bomb(this.node.position,0),void this.node.destroy()}},__decorate([l(cc.Prefab)],t.prototype,"skillPre",void 0),t=__decorate([p],t)}(n.default);o.default=d,cc._RF.pop()},{"../../Config":"Config","../../player/Player":"Player","../BombPool":"BombPool","../EnemyBase":"EnemyBase","./Skill":"Skill"}],Skill:[function(e,t,o){"use strict";cc._RF.push(t,"7745fXNFT1G+Jw/jek9ZqIx","Skill"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../Config"),i=e("../../player/Player"),a=cc._decorator,r=a.ccclass,c=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skillSpr=null,t.skillSpf=[],t.type=n.SkillType.SKILL_M,t}return __extends(t,e),t.prototype.start=function(){},t.prototype.getSkill=function(){var e=Math.floor(7*Math.random());this.skillSpr.spriteFrame=this.skillSpf[e],this.type=e},t.prototype.update=function(e){this.node.setPositionX(this.node.getPositionX()-50*e)},t.prototype.onCollisionEnter=function(e,t){if("player"==e.node.group){var o=e.node.getComponent(i.default);if(o.playerState!=n.PlayerState.DIE)return o.addBufferByType(this.type),void this.node.destroy()}},t.prototype.onCollisionStay=function(e,t){"player"!=e.node.group||e.node.getComponent(i.default).playerState==n.PlayerState.DIE||this.node.destroy()},__decorate([c(cc.Sprite)],t.prototype,"skillSpr",void 0),__decorate([c([cc.SpriteFrame])],t.prototype,"skillSpf",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"../../Config":"Config","../../player/Player":"Player"}],TankEnemy:[function(e,t,o){"use strict";cc._RF.push(t,"1a3d52JMIJNYLXl1Ynx9Zkx","TankEnemy"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./EnemyBase"),i=e("../player/Player"),a=e("../Config"),r=e("./BombPool"),c=cc._decorator,s=c.ccclass,p=c.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enemyZidanPre=null,t.shootNode=null,t.shootSpeed=-300,t.shootNum=2,t.shootstep=.2,t.zidanPool=new cc.NodePool,t}return __extends(t,e),t.prototype.onload=function(){},t.prototype.start=function(){this.shootFrequency=3,this.useTime=cc.macro.REPEAT_FOREVER},t.prototype.shoot=function(){var e=this;cc.log("????????"),this.getComponent(cc.Animation).play();for(var t=[],o=0;o<this.shootNum;++o)t.push(cc.callFunc(function(){var t=cc.instantiate(e.enemyZidanPre);t.parent=e.node.parent;var o=e.node.convertToWorldSpaceAR(e.shootNode.position),n=e.node.parent.convertToNodeSpaceAR(o);t.position=n})),t.push(cc.delayTime(this.shootstep));this.node&&this.node.runAction(cc.sequence(t))},t.prototype.onCollisionEnter=function(e,t){if("playerzidan"==e.node.group)return r.default.getInstance().bomb(this.node.position),void this.node.destroy();if("player"==e.node.group){var o=e.node.getComponent(i.default).playerState;if(o==a.PlayerState.NORMAL||o==a.PlayerState.DIE)return r.default.getInstance().bomb(this.node.position),void this.node.destroy()}},t.prototype.onCollisionStay=function(e,t){if("playerzidan"==e.node.group)return r.default.getInstance().bomb(this.node.position),void this.node.destroy();if("player"==e.node.group){var o=e.node.getComponent(i.default).playerState;if(o==a.PlayerState.NORMAL||o==a.PlayerState.DIE)return r.default.getInstance().bomb(this.node.position),void this.node.destroy()}},__decorate([p(cc.Prefab)],t.prototype,"enemyZidanPre",void 0),__decorate([p(cc.Node)],t.prototype,"shootNode",void 0),t=__decorate([s],t)}(n.default);o.default=l,cc._RF.pop()},{"../Config":"Config","../player/Player":"Player","./BombPool":"BombPool","./EnemyBase":"EnemyBase"}],TankZidan:[function(e,t,o){"use strict";cc._RF.push(t,"dbbe3hUGrlDL4XGX9gKSFQz","TankZidan"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./EnemyZidanBase"),i=cc._decorator,a=i.ccclass,r=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.moveSpeed=300,t.moveDir=cc.p(-1,0),t}return __extends(t,e),t.prototype.start=function(){var e=this;this.node.runAction(cc.moveBy(3,this.moveDir.mul(3*this.moveSpeed))),this.scheduleOnce(function(){e.node&&e.node.destroy()},3)},t.prototype.update=function(e){},t=__decorate([a],t)}(n.default));o.default=r,cc._RF.pop()},{"./EnemyZidanBase":"EnemyZidanBase"}],Zidan:[function(e,t,o){"use strict";cc._RF.push(t,"521f56g7ZZG24sDyJfVvDL8","Zidan"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,a=(n.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.speed=500,t._putCallBack=null,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.init=function(e){var t=this;this.node.position=e,this.node.active=!0;var o=1130/this.speed;this.node.stopAllActions(),this.node.runAction(cc.moveBy(o,cc.p(1130,0))),this.scheduleOnce(function(){t._putCallBack&&(t._putCallBack(),t._putCallBack=null)},o)},t.prototype.setPutCallBack=function(e){this._putCallBack=e},t.prototype.onCollisionEnter=function(e,t){this.unscheduleAllCallbacks(),this._putCallBack&&(this._putCallBack(),this._putCallBack=null)},t.prototype.onCollisionExit=function(e,t){},t=__decorate([i],t)}(cc.Component));o.default=a,cc._RF.pop()},{}]},{},["AudioManager","BaseLogic","Config","Follow","Bird","BombPool","DazuiEnemy","EnemyBase","EnemyNormalZidan","EnemySpawn","EnemyZidanBase","TankEnemy","TankZidan","Skill","SkillEnemy","Player","PlayerLogic","Zidan"]);