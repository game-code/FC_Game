require=function e(t,o,i){function n(a,s){if(!o[a]){if(!t[a]){var r="function"==typeof require&&require;if(!s&&r)return r(a,!0);if(c)return c(a,!0);var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}var l=o[a]={exports:{}};t[a][0].call(l.exports,function(e){var o=t[a][1][e];return n(o||e)},l,l.exports,e,t,o,i)}return o[a].exports}for(var c="function"==typeof require&&require,a=0;a<i.length;a++)n(i[a]);return n}({AudioManager:[function(e,t,o){"use strict";cc._RF.push(t,"4893cZrqdRLbaDdq8wPx7Hy","AudioManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./Config"),n=cc._decorator,c=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgMusic=null,t.jqingEnterBgMusic=null,t.jqingStartBgMusic=null,t.zidan=null,t.baozha=null,t.jizhong=null,t.getKill=null,t.hitKill=null,t.bgMusicId=-1,t}return __extends(t,e),o=t,t.prototype.onLoad=function(){o.instance=this},t.prototype.start=function(){this.playMusic(this.bgMusic)},t.prototype.playEffectByType=function(e){switch(e){case i.AudioType.PLYAER_ZIDAN:this.playEffect(this.zidan);break;case i.AudioType.PLYAER_GET:break;case i.AudioType.PLYAER_DEAD:this.playEffect(this.baozha);break;case i.AudioType.HIT:this.playEffect(this.jizhong);break;case i.AudioType.SKILL_HIT:this.playEffect(this.hitKill);break;case i.AudioType.GET_SKILL:this.playEffect(this.getKill)}},t.prototype.playBossMusic=function(){this.playMusic(this.jqingEnterBgMusic)},t.prototype.playMusic=function(e){-1!=this.bgMusicId&&cc.audioEngine.stop(this.bgMusicId),this.bgMusicId=cc.audioEngine.play(e,!0,1)},t.prototype.getMusicDuration=function(e){return cc.audioEngine.getDuration(e)},t.prototype.playEffect=function(e,t){return void 0===t&&(t=!1),cc.audioEngine.play(e,t,1)},t.prototype.stopEffect=function(e){cc.audioEngine.stop(e)},t.prototype.stopAllAudio=function(e){cc.audioEngine.stopAll()},t.instance=null,__decorate([a(cc.AudioClip)],t.prototype,"bgMusic",void 0),__decorate([a(cc.AudioClip)],t.prototype,"jqingEnterBgMusic",void 0),__decorate([a(cc.AudioClip)],t.prototype,"jqingStartBgMusic",void 0),__decorate([a(cc.AudioClip)],t.prototype,"zidan",void 0),__decorate([a(cc.AudioClip)],t.prototype,"baozha",void 0),__decorate([a(cc.AudioClip)],t.prototype,"jizhong",void 0),__decorate([a(cc.AudioClip)],t.prototype,"getKill",void 0),__decorate([a(cc.AudioClip)],t.prototype,"hitKill",void 0),t=o=__decorate([c],t);var o}(cc.Component);o.default=s,cc._RF.pop()},{"./Config":"Config"}],BaseLogic:[function(e,t,o){"use strict";cc._RF.push(t,"e7efbpDO3JA1J+woozzQgMX","BaseLogic"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=(i.ccclass,i.property,function(){return function(){}}());o.default=n,cc._RF.pop()},{}],Bird:[function(e,t,o){"use strict";cc._RF.push(t,"d5d0eCivclCJKMRvFSHOxAL","Bird"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./EnemyBase"),n=e("./EnemySpawn"),c=e("./BombPool"),a=e("../AudioManager"),s=e("../Config"),r=cc._decorator,p=r.ccclass,l=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.moveSpeed=-400,t}return __extends(t,e),t.prototype.start=function(){var e=[],t=cc.moveBy(.5,cc.p(.1*this.moveSpeed,25)),o=cc.moveBy(1,cc.p(.2*this.moveSpeed,-50)),i=cc.moveBy(.5,cc.p(.1*this.moveSpeed,25));e.push(t),e.push(o),e.push(i),this.node.runAction(cc.repeatForever(cc.sequence(e)))},t.prototype.update=function(e){},t.prototype.onHpSub=function(){a.default.instance.playEffectByType(s.AudioType.HIT)},t.prototype.onDie=function(){a.default.instance.playEffectByType(s.AudioType.PLYAER_DEAD),c.default.getInstance().bomb(this.node.position,1),n.default.instance.putEnemy(this.node)},t=__decorate([p],t)}(i.default));o.default=l,cc._RF.pop()},{"../AudioManager":"AudioManager","../Config":"Config","./BombPool":"BombPool","./EnemyBase":"EnemyBase","./EnemySpawn":"EnemySpawn"}],BombPool:[function(e,t,o){"use strict";cc._RF.push(t,"7e57ds6zntKp4Qo5QXAv/Kd","BombPool"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,c=i.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bombPre=null,t.bombNodes=new cc.NodePool,t}return __extends(t,e),o=t,t.prototype.onLoad=function(){o.instance=this},t.getInstance=function(){return o.instance},t.prototype.start=function(){},t.prototype.bomb=function(e,t){var o=this;void 0===t&&(t=0);var i=this.getBomb();i.parent=this.node,i.setPosition(e);var n=i.getComponent(cc.Animation),c=1;switch(t){case 0:c=n.play("bomb01_ani").duration;break;case 1:c=n.play("bomb02_ani").duration}n&&this.scheduleOnce(function(){o.putBomb(i)},c)},t.prototype.getBomb=function(){if(this.bombNodes.size()<=0){var e=cc.instantiate(this.bombPre);this.bombNodes.put(e)}return this.bombNodes.get()},t.prototype.putBomb=function(e){e&&this.bombNodes.put(e)},t.instance=null,__decorate([c(cc.Prefab)],t.prototype,"bombPre",void 0),t=o=__decorate([n],t);var o}(cc.Component);o.default=a,cc._RF.pop()},{}],Config:[function(e,t,o){"use strict";cc._RF.push(t,"259982pYrJK2oh6fhqSx8GA","Config"),Object.defineProperty(o,"__esModule",{value:!0});!function(e){e[e.BORN=0]="BORN",e[e.PRETECTED=1]="PRETECTED",e[e.NORMAL=2]="NORMAL",e[e.DIE=3]="DIE"}(o.PlayerState||(o.PlayerState={}));!function(e){e[e.PLYAER_ZIDAN=0]="PLYAER_ZIDAN",e[e.PLYAER_DEAD=1]="PLYAER_DEAD",e[e.PLYAER_GET=2]="PLYAER_GET",e[e.HIT=3]="HIT",e[e.SKILL_HIT=4]="SKILL_HIT",e[e.GET_SKILL=5]="GET_SKILL"}(o.AudioType||(o.AudioType={}));!function(e){e[e.SKILL_M=0]="SKILL_M",e[e.SKILL_B=1]="SKILL_B",e[e.SKILL_F=2]="SKILL_F",e[e.SKILL_S=3]="SKILL_S",e[e.SKILL_L=4]="SKILL_L",e[e.SKILL_R=5]="SKILL_R"}(o.SkillType||(o.SkillType={})),cc._RF.pop()},{}],DazuiEnemy:[function(e,t,o){"use strict";cc._RF.push(t,"47f8dqWXdlHsoUYEiO1QXG2","DazuiEnemy"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./EnemyBase"),n=e("./BombPool"),c=e("../Config"),a=e("../AudioManager"),s=cc._decorator,r=s.ccclass,p=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pre=null,t.zidanTimes=2,t.shootTime=1,t}return __extends(t,e),t.prototype.onLoad=function(){this.shootFrequency=8,this.useTime=2},t.prototype.start=function(){this.hp=3},t.prototype.shoot=function(){var e=this,t=[],o=this.getComponent(cc.Animation);t.push(cc.callFunc(function(){o.play("dazui_open_ani")}));var i=o.getAnimationState("dazui_open_ani").duration;cc.log("time",i),t.push(cc.delayTime(i));for(var n=0;n<this.zidanTimes;++n)t.push(cc.callFunc(function(){var t=cc.instantiate(e.pre);t.parent=e.node.parent,t.position=e.node.position})),t.push(cc.delayTime(this.shootTime));t.push(cc.callFunc(function(){o.play("dazui_shut_ani")})),t.push(cc.delayTime(o.getAnimationState("dazui_shut_ani").duration)),this.node&&this.node.runAction(cc.sequence(t))},t.prototype.onHpSub=function(){a.default.instance.playEffectByType(c.AudioType.HIT),this.node.runAction(cc.sequence(cc.tintTo(.1,255,0,0),cc.tintTo(.1,255,255,255)))},t.prototype.onDie=function(){a.default.instance.playEffectByType(c.AudioType.PLYAER_DEAD),n.default.getInstance().bomb(this.node.position),this.node.destroy()},__decorate([p(cc.Prefab)],t.prototype,"pre",void 0),t=__decorate([r],t)}(i.default);o.default=l,cc._RF.pop()},{"../AudioManager":"AudioManager","../Config":"Config","./BombPool":"BombPool","./EnemyBase":"EnemyBase"}],EnemyBase:[function(e,t,o){"use strict";cc._RF.push(t,"d30ccdpycxBT4DpjwPJK/Ul","EnemyBase"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../Follow"),n=e("../player/Player"),c=e("../Config"),a=e("../weapon/zidan"),s=cc._decorator,r=s.ccclass,p=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hp=1,t.isUse=!1,t.isUsed=!1,t.triggerDis=568,t.shootFrequency=0,t.useTime=0,t}return __extends(t,e),t.prototype.start=function(){},t.prototype.update=function(e){var t=this.node.x-i.default.getTargetPos().x;this.isUse||this.isUsed?this.isUsed||t<-this.triggerDis&&(this.isUsed=!0,this.enabled=!1,this.unschedule(this.shoot)):t>0&&t<this.triggerDis&&(this.isUse=!0,this.isUsed=!1,this.enabled=!0,cc.log("dis",t),this.schedule(this.shoot,this.shootFrequency,this.useTime,0))},t.prototype.onCollisionEnter=function(e,t){if("playerzidan"==e.node.group){var o=e.node.getComponent(a.default);return this.subHp(o.atk),void(this.isDie()?this.onDie():this.onHpSub())}if("player"==e.node.group){var i=e.node.getComponent(n.default),s=i.playerState;if(s==c.PlayerState.NORMAL||s==c.PlayerState.DIE)return this.subHp(i.playerLogic.atk),void(this.isDie()?this.onDie():this.onHpSub())}},t.prototype.onCollisionStay=function(e,t){if("playerzidan"==e.node.group){var o=e.node.getComponent(a.default);return this.subHp(o.atk),void(this.isDie()?this.onDie():this.onHpSub())}if("player"==e.node.group){var i=e.node.getComponent(n.default),s=i.playerState;if(s==c.PlayerState.NORMAL||s==c.PlayerState.DIE)return this.subHp(i.playerLogic.atk),void(this.isDie()?this.onDie():this.onHpSub())}},t.prototype.onDestroy=function(){this.unschedule(this.shoot)},t.prototype.subHp=function(e){this.hp-=e},t.prototype.isDie=function(){return this.hp<=0},t.prototype.shoot=function(){cc.log("没有复写此方法-shoot")},t.prototype.onHpSub=function(){cc.log("子类没有重写此方法-onHpSub")},t.prototype.onDie=function(){cc.log("子类没有重写此方法-onDie")},t=__decorate([r],t)}(cc.Component));o.default=p,cc._RF.pop()},{"../Config":"Config","../Follow":"Follow","../player/Player":"Player","../weapon/zidan":"Zidan"}],EnemyNormalZidan:[function(e,t,o){"use strict";cc._RF.push(t,"6396b+gRmhNTZ/6nGMZW7F3","EnemyNormalZidan"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../Config"),n=e("../player/Player"),c=cc._decorator,a=c.ccclass,s=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=0,t.moveSpeed=100,t.moveDir=cc.p(0,0),t.aiTime=.2,t}return __extends(t,e),t.prototype.start=function(){},t.prototype.update=function(e){switch(this.type){case 0:if(this.aiTime-=e,this.aiTime<0){var t=n.default.getPlayerPos(),o=this.node.position;this.moveDir=t.sub(o),this.moveDir.normalizeSelf(),this.aiTime=1}this.node.setPosition(this.node.position.add(this.moveDir.mul(this.moveSpeed*e)))}},t.prototype.onCollisionEnter=function(e,t){if("playerzidan"!=e.node.group){if("player"==e.node.group){var o=e.node.getComponent(n.default).playerState;if(o==i.PlayerState.NORMAL||o==i.PlayerState.DIE)return void this.node.destroy()}}else this.node.destroy()},t.prototype.onCollisionStay=function(e,t){if("playerzidan"!=e.node.group){if("player"==e.node.group){var o=e.node.getComponent(n.default).playerState;if(o==i.PlayerState.NORMAL||o==i.PlayerState.DIE)return void this.node.destroy()}}else this.node.destroy()},t=__decorate([a],t)}(cc.Component));o.default=s,cc._RF.pop()},{"../Config":"Config","../player/Player":"Player"}],EnemySpawn:[function(e,t,o){"use strict";cc._RF.push(t,"ac37b7hBGZEH53uExjSDUlo","EnemySpawn"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./EnemyBase"),n=cc._decorator,c=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enemyPre=null,t.enemysPool=null,t}return __extends(t,e),o=t,t.prototype.onLoad=function(){o.instance=this,this.enemysPool=new cc.NodePool(i.default);for(var e=0;e<10;++e){var t=cc.instantiate(this.enemyPre);this.enemysPool.put(t)}},t.prototype.start=function(){},t.prototype.onEnable=function(){var e=this;cc.log("one"),this.schedule(function(){e.createEnemy()},.5,5,0)},t.prototype.onDisable=function(){},t.prototype.createEnemy=function(){var e=this.getEnemy();e.parent=this.node.parent,e.setPosition(this.node.position)},t.prototype.getEnemy=function(){if(this.enemysPool.size()<=0){var e=cc.instantiate(this.enemyPre);this.enemysPool.put(e)}return this.enemysPool.get()},t.prototype.putEnemy=function(e){e&&this.enemysPool.put(e)},t.instance=null,__decorate([a(cc.Prefab)],t.prototype,"enemyPre",void 0),t=o=__decorate([c],t);var o}(cc.Component);o.default=s,cc._RF.pop()},{"./EnemyBase":"EnemyBase"}],EnemyZidanBase:[function(e,t,o){"use strict";cc._RF.push(t,"e1478tqcV1LIIM80ebV1e6N","EnemyZidanBase"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../player/Player"),n=e("../Config"),c=cc._decorator,a=c.ccclass,s=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onCollisionEnter=function(e,t){if("player"==e.node.group){var o=e.node.getComponent(i.default).playerState;if(o==n.PlayerState.NORMAL||o==n.PlayerState.DIE)return void this.node.destroy()}},t.prototype.onCollisionStay=function(e,t){if("player"==e.node.group){var o=e.node.getComponent(i.default).playerState;if(o==n.PlayerState.NORMAL||o==n.PlayerState.DIE)return void this.node.destroy()}},t=__decorate([a],t)}(cc.Component));o.default=s,cc._RF.pop()},{"../Config":"Config","../player/Player":"Player"}],Follow:[function(e,t,o){"use strict";cc._RF.push(t,"03b13ZeN3RLSZi1e1Fts1Sz","Follow"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./AudioManager"),n=e("./enemy/EnemySpawn"),c=cc._decorator,a=c.ccclass,s=c.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.target=null,t.bgUpAni=null,t.enemySpawn=null,t.speed=1,t.isPlayerAni=!1,t.isboss=!1,t.gameTime=0,t}return __extends(t,e),o=t,t.prototype.onLoad=function(){o.instance=this;var e=cc.follow(this.target,new cc.Rect(0,0,22600,3200));this.node.runAction(e),this.enemySpawn.enabled=!1,this.gameTime=0},t.getTargetPos=function(){return o.pos},t.prototype.start=function(){},t.prototype.update=function(e){this.gameTime+=e,this.target.x<12877?(this.target.x+=this.speed*e,this.target.x>7500&&this.target.x<=11e3&&!this.isPlayerAni?(this.bgUpAni.play().repeatCount=2,this.isPlayerAni=!0):this.target.x>11e3&&this.isPlayerAni,this.gameTime>2&&this.gameTime<3&&(this.enemySpawn.enabled=!0)):this.isboss||(this.isboss=!0,i.default.instance.playBossMusic()),this.target.x>2500&&this.target.x<12e3?this.target.y<=1520&&(this.target.y+=this.speed*e):this.target.x>12e3&&this.target.x<12877&&this.target.y>=923&&(this.target.x-=this.speed*e,this.target.y-=this.speed*e),o.pos=this.target.position},t.instance=null,t.pos=cc.p(),__decorate([s(cc.Node)],t.prototype,"target",void 0),__decorate([s(cc.Animation)],t.prototype,"bgUpAni",void 0),__decorate([s(n.default)],t.prototype,"enemySpawn",void 0),__decorate([s],t.prototype,"speed",void 0),t=o=__decorate([a],t);var o}(cc.Component);o.default=r,cc._RF.pop()},{"./AudioManager":"AudioManager","./enemy/EnemySpawn":"EnemySpawn"}],KltEnemy:[function(e,t,o){"use strict";cc._RF.push(t,"98e2bQw2IJGq74HEsID4smi","KltEnemy"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./EnemyBase"),n=e("./BombPool"),c=e("../Config"),a=e("../player/Player"),s=e("../AudioManager"),r=cc._decorator,p=r.ccclass,l=r.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.childNode=null,t.moveSpeed=200,t.moveDir=cc.p(0,0),t.aiTime=.2,t}return __extends(t,e),t.prototype.onLoad=function(){this.shootFrequency=0,this.useTime=1},t.prototype.start=function(){this.hp=1},t.prototype.update=function(t){if(e.prototype.update.call(this,t),this.isUse&&!this.isUsed){if(this.aiTime-=t,this.aiTime<0){var o=a.default.getPlayerPos(),i=this.node.position;this.moveDir=o.sub(i),this.moveDir.normalizeSelf(),this.aiTime=.2}this.node.setPosition(this.node.position.add(this.moveDir.mul(this.moveSpeed*t)))}},t.prototype.shoot=function(){var e=[];e.push(cc.spawn(cc.rotateBy(.2,360),cc.moveBy(.1,cc.p(0,3)))),e.push(cc.moveBy(.1,cc.p(0,-3))),this.node&&this.childNode.runAction(cc.repeatForever(cc.sequence(e)))},t.prototype.onHpSub=function(){s.default.instance.playEffectByType(c.AudioType.HIT),this.node.runAction(cc.sequence(cc.tintTo(.1,255,0,0),cc.tintTo(.1,255,255,255)))},t.prototype.onDie=function(){s.default.instance.playEffectByType(c.AudioType.PLYAER_DEAD),n.default.getInstance().bomb(this.node.position),this.node.destroy()},__decorate([l(cc.Node)],t.prototype,"childNode",void 0),t=__decorate([p],t)}(i.default);o.default=d,cc._RF.pop()},{"../AudioManager":"AudioManager","../Config":"Config","../player/Player":"Player","./BombPool":"BombPool","./EnemyBase":"EnemyBase"}],PlayerLogic:[function(e,t,o){"use strict";cc._RF.push(t,"399e7xjMvVLFb6gQadAVj0H","PlayerLogic"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../BaseLogic"),n=cc._decorator,c=(n.ccclass,n.property,function(e){function t(t){var o=e.call(this)||this;return o.moveSpeed=200,o.zidanMaxNum=5,o.zidanCurNum=0,o.zidanGapTime=.05,o.zidanAddTime=0,o.maxHp=16,o.curHp=16,o.atk=1,o.playerUI=t,o}return __extends(t,e),t.prototype.init=function(){},t}(i.default));o.default=c,cc._RF.pop()},{"../BaseLogic":"BaseLogic"}],Player:[function(e,t,o){"use strict";cc._RF.push(t,"f55c8c5S5tNILt6PoC9K+k+","Player"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./PlayerLogic"),n=e("../weapon/zidan"),c=e("../AudioManager"),a=e("../Config"),s=cc._decorator,r=s.ccclass,p=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.playerZidanPre=null,t.playerPao=null,t.followNode=null,t.playerBomb=null,t.keyCodeMap={},t.curKey=-1,t.directionY=0,t.playerLogic=null,t.zidanNodes=null,t.playerState=a.PlayerState.NORMAL,t}return __extends(t,e),o=t,t.getPlayerPos=function(){return o.pos},t.prototype.onLoad=function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDonw,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),this.playerLogic=new i.default(this),this.zidanNodes=new cc.NodePool(n.default);for(var e=0;e<10;++e){var t=cc.instantiate(this.playerZidanPre);this.zidanNodes.put(t)}},t.prototype.onDestroy=function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDonw,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},t.prototype.onEnable=function(){cc.director.getCollisionManager().enabled=!0},t.prototype.onDisable=function(){cc.director.getCollisionManager().enabled=!1},t.prototype.onCollisionEnter=function(e,t){this._collisonHand(e,t)},t.prototype.reBorn=function(){var e=this;this.playerState=a.PlayerState.BORN,this.node.active=!0,this.node.position=this.followNode.position,this.node.setPositionX(this.followNode.position.x-565);var t=[];t.push(cc.moveBy(.8,cc.p(250,0))),t.push(cc.callFunc(function(){e.playerState=a.PlayerState.PRETECTED})),t.push(cc.delayTime(2.2)),t.push(cc.callFunc(function(){e.playerState=a.PlayerState.NORMAL})),this.node.runAction(cc.blink(3,12)),this.node.runAction(cc.sequence(t))},t.prototype.onCollisionStay=function(e,t){this._collisonHand(e,t)},t.prototype.onCollisionExit=function(){},t.prototype.addBufferByType=function(e){switch(e){case a.SkillType.SKILL_M:this.playerLogic.moveSpeed+=50;break;case a.SkillType.SKILL_B:this.playerLogic.zidanMaxNum+=5;break;case a.SkillType.SKILL_F:this.playerLogic.zidanGapTime-=.01;break;case a.SkillType.SKILL_L:case a.SkillType.SKILL_S:case a.SkillType.SKILL_R:this.playerLogic.moveSpeed+=50}},t.prototype._collisonHand=function(e,t){("collision"!=e.node.group||this.playerState!=a.PlayerState.NORMAL)&&!("enemy"==e.node.group&&this.playerState==a.PlayerState.NORMAL||"enemyzidan"==e.node.group&&this.playerState==a.PlayerState.NORMAL)?"enemyzidanbomb"!=e.node.group||this.playerState!=a.PlayerState.NORMAL||this._dieHand():this._dieHand()},t.prototype._dieHand=function(){var e=this;c.default.instance.playEffectByType(a.AudioType.PLYAER_DEAD),this.playerState=a.PlayerState.DIE,this.node.active=!1,this.playerBomb.position=this.node.position,this.playerBomb.active=!0;var t=this.playerBomb.getComponent(cc.Animation).play().duration;this.scheduleOnce(function(){e.playerBomb.active=!1,e.reBorn()},t)},t.prototype.onKeyDonw=function(e){switch(e.keyCode){case cc.KEY.up:case cc.KEY.w:this.directionY=1;break;case cc.KEY.down:case cc.KEY.s:this.directionY=-1;break;case cc.KEY.left:case cc.KEY.a:this.keyCodeMap[cc.KEY.a]=!0,this.curKey=cc.KEY.a;break;case cc.KEY.right:case cc.KEY.d:this.keyCodeMap[cc.KEY.d]=!0,this.curKey=cc.KEY.d;break;case cc.KEY.j:case cc.KEY.space:this.keyCodeMap[cc.KEY.j]=!0}},t.prototype.onKeyUp=function(e){switch(e.keyCode){case cc.KEY.up:case cc.KEY.w:this.directionY=0;break;case cc.KEY.down:case cc.KEY.s:this.directionY=0;break;case cc.KEY.left:case cc.KEY.a:this.keyCodeMap[cc.KEY.a]=!1;break;case cc.KEY.right:case cc.KEY.d:this.keyCodeMap[cc.KEY.d]=!1;break;case cc.KEY.j:case cc.KEY.space:this.keyCodeMap[cc.KEY.j]=!1}},t.prototype.getKeyPress=function(e){return this.keyCodeMap[e]},t.prototype.update=function(e){var t=this;if((this.playerState==a.PlayerState.NORMAL||this.playerState==a.PlayerState.PRETECTED)&&(this.keyCodeMap[cc.KEY.a]&&this.keyCodeMap[cc.KEY.d]?this.curKey==cc.KEY.a?this.getKeyPress(cc.KEY.a)?this.node.x-=this.playerLogic.moveSpeed*e:this.node.x+=this.playerLogic.moveSpeed*e:this.curKey==cc.KEY.d&&(this.getKeyPress(cc.KEY.d)?this.node.x+=this.playerLogic.moveSpeed*e:this.node.x-=this.playerLogic.moveSpeed*e):this.getKeyPress(cc.KEY.a)?this.node.x-=this.playerLogic.moveSpeed*e:this.getKeyPress(cc.KEY.d)&&(this.node.x+=this.playerLogic.moveSpeed*e),this.node.y+=this.playerLogic.moveSpeed*e*this.directionY,this.followNode.getPositionX()+this.node.width-this.node.getPositionX()>=565?this.node.x=this.followNode.getPositionX()-565+this.node.width:this.node.getPositionX()+this.node.width-this.followNode.getPositionX()>=565&&(this.node.x=this.followNode.getPositionX()+565-this.node.width),this.followNode.getPositionY()+this.node.height-this.node.getPositionY()>=320?this.node.y=this.followNode.getPositionY()-320+this.node.height:this.node.getPositionY()+this.node.height-this.followNode.getPositionY()>=320&&(this.node.y=this.followNode.getPositionY()+320-this.node.height),this.playerLogic.zidanAddTime+=e,this.keyCodeMap[cc.KEY.j]&&this.playerLogic.zidanAddTime>this.playerLogic.zidanGapTime&&this.playerLogic.zidanCurNum<this.playerLogic.zidanMaxNum)){c.default.instance.playEffectByType(a.AudioType.PLYAER_ZIDAN);var i=this.getZidan(),s=this.node.convertToWorldSpaceAR(this.playerPao.position),r=this.node.parent.convertToNodeSpaceAR(s);i.parent=this.node.parent,i.getComponent(n.default).init(r),i.getComponent(n.default).setPutCallBack(function(){t.playerLogic.zidanCurNum--,t.putZidan(i)}),this.playerLogic.zidanAddTime=0,this.playerLogic.zidanCurNum++}o.pos=this.node.position},t.prototype.getZidan=function(){if(this.zidanNodes.size()<=0){var e=cc.instantiate(this.playerZidanPre);this.zidanNodes.put(e)}return this.zidanNodes.get()},t.prototype.putZidan=function(e){e&&this.zidanNodes.put(e)},t.pos=cc.p(),__decorate([p(cc.Prefab)],t.prototype,"playerZidanPre",void 0),__decorate([p(cc.Node)],t.prototype,"playerPao",void 0),__decorate([p(cc.Node)],t.prototype,"followNode",void 0),__decorate([p(cc.Node)],t.prototype,"playerBomb",void 0),t=o=__decorate([r],t);var o}(cc.Component);o.default=l,cc._RF.pop()},{"../AudioManager":"AudioManager","../Config":"Config","../weapon/zidan":"Zidan","./PlayerLogic":"PlayerLogic"}],SkillEnemy:[function(e,t,o){"use strict";cc._RF.push(t,"3909aNIGHpGkZNzhAwn6xpz","SkillEnemy"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../EnemyBase"),n=e("../BombPool"),c=e("../../Config"),a=e("./Skill"),s=e("../../AudioManager"),r=cc._decorator,p=r.ccclass,l=r.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skillPre=null,t.moveSpeed=cc.p(100,50),t.ySwitchTime=.5,t.swi=1,t.isGo=!1,t}return __extends(t,e),t.prototype.start=function(){this.triggerDis=1136},t.prototype.shoot=function(){this.isGo=!0;var e=[];e.push(cc.moveBy(.5,cc.p(0,25))),e.push(cc.moveBy(1,cc.p(0,-50))),e.push(cc.moveBy(.5,cc.p(0,25))),this.node.runAction(cc.repeatForever(cc.sequence(e)))},t.prototype.update=function(t){e.prototype.update.call(this,t),this.isGo&&this.node.setPositionX(this.node.getPositionX()+-1*this.moveSpeed.x*t)},t.prototype.onHpSub=function(){},t.prototype.onDie=function(){s.default.instance.playEffectByType(c.AudioType.SKILL_HIT),n.default.getInstance().bomb(this.node.position,0);var e=cc.instantiate(this.skillPre);e.parent=this.node.parent,e.position=this.node.position,e.getComponent(a.default).getSkill(),this.node.destroy()},__decorate([l(cc.Prefab)],t.prototype,"skillPre",void 0),t=__decorate([p],t)}(i.default);o.default=d,cc._RF.pop()},{"../../AudioManager":"AudioManager","../../Config":"Config","../BombPool":"BombPool","../EnemyBase":"EnemyBase","./Skill":"Skill"}],Skill:[function(e,t,o){"use strict";cc._RF.push(t,"7745fXNFT1G+Jw/jek9ZqIx","Skill"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../Config"),n=e("../../player/Player"),c=e("../../AudioManager"),a=cc._decorator,s=a.ccclass,r=a.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skillSpr=null,t.skillSpf=[],t.type=i.SkillType.SKILL_M,t}return __extends(t,e),t.prototype.start=function(){},t.prototype.getSkill=function(){var e=Math.floor(6*Math.random());this.skillSpr.spriteFrame=this.skillSpf[e],this.type=e},t.prototype.update=function(e){this.node.setPositionX(this.node.getPositionX()-50*e)},t.prototype.onCollisionEnter=function(e,t){if("player"==e.node.group){var o=e.node.getComponent(n.default);if(o.playerState!=i.PlayerState.DIE)return c.default.instance.playEffectByType(i.AudioType.GET_SKILL),o.addBufferByType(this.type),void this.node.destroy()}},t.prototype.onCollisionStay=function(e,t){"player"!=e.node.group||e.node.getComponent(n.default).playerState==i.PlayerState.DIE||this.node.destroy()},__decorate([r(cc.Sprite)],t.prototype,"skillSpr",void 0),__decorate([r([cc.SpriteFrame])],t.prototype,"skillSpf",void 0),t=__decorate([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../AudioManager":"AudioManager","../../Config":"Config","../../player/Player":"Player"}],TankEnemy:[function(e,t,o){"use strict";cc._RF.push(t,"1a3d52JMIJNYLXl1Ynx9Zkx","TankEnemy"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./EnemyBase"),n=e("../Config"),c=e("./BombPool"),a=e("../AudioManager"),s=cc._decorator,r=s.ccclass,p=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enemyZidanPre=null,t.shootNode=null,t.shootSpeed=-300,t.shootNum=2,t.shootstep=.2,t.zidanPool=new cc.NodePool,t}return __extends(t,e),t.prototype.onload=function(){},t.prototype.start=function(){this.shootFrequency=3,this.useTime=cc.macro.REPEAT_FOREVER,this.hp=5},t.prototype.shoot=function(){var e=this;cc.log("????????"),this.getComponent(cc.Animation).play();for(var t=[],o=0;o<this.shootNum;++o)t.push(cc.callFunc(function(){var t=cc.instantiate(e.enemyZidanPre);t.parent=e.node.parent;var o=e.node.convertToWorldSpaceAR(e.shootNode.position),i=e.node.parent.convertToNodeSpaceAR(o);t.position=i})),t.push(cc.delayTime(this.shootstep));this.node&&this.node.runAction(cc.sequence(t))},t.prototype.onHpSub=function(){a.default.instance.playEffectByType(n.AudioType.HIT),this.node.runAction(cc.sequence(cc.tintTo(.1,255,0,0),cc.tintTo(.1,255,255,255)))},t.prototype.onDie=function(){a.default.instance.playEffectByType(n.AudioType.PLYAER_DEAD),c.default.getInstance().bomb(this.node.position),this.node.destroy()},__decorate([p(cc.Prefab)],t.prototype,"enemyZidanPre",void 0),__decorate([p(cc.Node)],t.prototype,"shootNode",void 0),t=__decorate([r],t)}(i.default);o.default=l,cc._RF.pop()},{"../AudioManager":"AudioManager","../Config":"Config","./BombPool":"BombPool","./EnemyBase":"EnemyBase"}],TankZidan:[function(e,t,o){"use strict";cc._RF.push(t,"dbbe3hUGrlDL4XGX9gKSFQz","TankZidan"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./EnemyZidanBase"),n=cc._decorator,c=n.ccclass,a=(n.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.moveSpeed=300,t.moveDir=cc.p(-1,0),t}return __extends(t,e),t.prototype.start=function(){var e=this;this.node.runAction(cc.moveBy(3,this.moveDir.mul(3*this.moveSpeed))),this.scheduleOnce(function(){e.node&&e.node.destroy()},3)},t.prototype.update=function(e){},t=__decorate([c],t)}(i.default));o.default=a,cc._RF.pop()},{"./EnemyZidanBase":"EnemyZidanBase"}],Zidan:[function(e,t,o){"use strict";cc._RF.push(t,"521f56g7ZZG24sDyJfVvDL8","Zidan"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,c=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.speed=800,t.atk=1,t._putCallBack=null,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.init=function(e){var t=this;this.node.position=e,this.node.active=!0;var o=1130/this.speed;this.node.stopAllActions(),this.node.runAction(cc.moveBy(o,cc.p(1130,0))),this.scheduleOnce(function(){t._putCallBack&&(t._putCallBack(),t._putCallBack=null)},o)},t.prototype.setPutCallBack=function(e){this._putCallBack=e},t.prototype.onCollisionEnter=function(e,t){this.unscheduleAllCallbacks(),this._putCallBack&&(this._putCallBack(),this._putCallBack=null)},t.prototype.onCollisionExit=function(e,t){},t=__decorate([n],t)}(cc.Component));o.default=c,cc._RF.pop()},{}]},{},["AudioManager","BaseLogic","Config","Follow","Bird","BombPool","DazuiEnemy","EnemyBase","EnemyNormalZidan","EnemySpawn","EnemyZidanBase","KltEnemy","TankEnemy","TankZidan","Skill","SkillEnemy","Player","PlayerLogic","Zidan"]);