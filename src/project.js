require=function e(t,o,i){function n(c,r){if(!o[c]){if(!t[c]){var s="function"==typeof require&&require;if(!r&&s)return s(c,!0);if(a)return a(c,!0);var p=new Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p}var l=o[c]={exports:{}};t[c][0].call(l.exports,function(e){var o=t[c][1][e];return n(o||e)},l,l.exports,e,t,o,i)}return o[c].exports}for(var a="function"==typeof require&&require,c=0;c<i.length;c++)n(i[c]);return n}({AudioManager:[function(e,t,o){"use strict";cc._RF.push(t,"4893cZrqdRLbaDdq8wPx7Hy","AudioManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./Config"),n=cc._decorator,a=n.ccclass,c=n.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgMusic=null,t.jqingEnterBgMusic=null,t.jqingStartBgMusic=null,t.gameoverBgMusic=null,t.gameWinBgMusic=null,t.zidan=null,t.baozha=null,t.jizhong=null,t.getKill=null,t.hitKill=null,t.bgMusicId=-1,t}return __extends(t,e),o=t,t.prototype.onLoad=function(){o.instance=this},t.prototype.start=function(){this.playMusic(this.bgMusic)},t.prototype.playEffectByType=function(e){switch(e){case i.AudioType.PLYAER_ZIDAN:this.playEffect(this.zidan);break;case i.AudioType.PLYAER_GET:break;case i.AudioType.PLYAER_DEAD:this.playEffect(this.baozha);break;case i.AudioType.HIT:this.playEffect(this.jizhong);break;case i.AudioType.SKILL_HIT:this.playEffect(this.hitKill);break;case i.AudioType.GET_SKILL:this.playEffect(this.getKill)}},t.prototype.playBossMusic=function(){this.playMusic(this.jqingEnterBgMusic)},t.prototype.playGameOverMusic=function(e){void 0===e&&(e=!1),this.playMusic(this.gameoverBgMusic,e)},t.prototype.playGameWinMusic=function(e){void 0===e&&(e=!1),this.playMusic(this.gameWinBgMusic,e)},t.prototype.playMusic=function(e,t){void 0===t&&(t=!0),-1!=this.bgMusicId&&cc.audioEngine.stop(this.bgMusicId),this.bgMusicId=cc.audioEngine.play(e,t,1)},t.prototype.getMusicDuration=function(e){return cc.audioEngine.getDuration(e)},t.prototype.playEffect=function(e,t){return void 0===t&&(t=!1),cc.audioEngine.play(e,t,1)},t.prototype.stopEffect=function(e){cc.audioEngine.stop(e)},t.prototype.stopAllAudio=function(){cc.audioEngine.stopAll()},t.instance=null,__decorate([c(cc.AudioClip)],t.prototype,"bgMusic",void 0),__decorate([c(cc.AudioClip)],t.prototype,"jqingEnterBgMusic",void 0),__decorate([c(cc.AudioClip)],t.prototype,"jqingStartBgMusic",void 0),__decorate([c(cc.AudioClip)],t.prototype,"gameoverBgMusic",void 0),__decorate([c(cc.AudioClip)],t.prototype,"gameWinBgMusic",void 0),__decorate([c(cc.AudioClip)],t.prototype,"zidan",void 0),__decorate([c(cc.AudioClip)],t.prototype,"baozha",void 0),__decorate([c(cc.AudioClip)],t.prototype,"jizhong",void 0),__decorate([c(cc.AudioClip)],t.prototype,"getKill",void 0),__decorate([c(cc.AudioClip)],t.prototype,"hitKill",void 0),t=o=__decorate([a],t);var o}(cc.Component);o.default=r,cc._RF.pop()},{"./Config":"Config"}],BaseLogic:[function(e,t,o){"use strict";cc._RF.push(t,"e7efbpDO3JA1J+woozzQgMX","BaseLogic"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=(i.ccclass,i.property,function(){return function(){}}());o.default=n,cc._RF.pop()},{}],Bird:[function(e,t,o){"use strict";cc._RF.push(t,"d5d0eCivclCJKMRvFSHOxAL","Bird"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./EnemyBase"),n=e("./EnemySpawn"),a=e("./BombPool"),c=e("../AudioManager"),r=e("../Config"),s=cc._decorator,p=s.ccclass,l=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.moveSpeed=-400,t}return __extends(t,e),t.prototype.start=function(){var e=[],t=cc.moveBy(.5,cc.p(.1*this.moveSpeed,25)),o=cc.moveBy(1,cc.p(.2*this.moveSpeed,-50)),i=cc.moveBy(.5,cc.p(.1*this.moveSpeed,25));e.push(t),e.push(o),e.push(i),this.node.runAction(cc.repeatForever(cc.sequence(e)))},t.prototype.update=function(e){},t.prototype.onHpSub=function(){c.default.instance.playEffectByType(r.AudioType.HIT)},t.prototype.onDie=function(){c.default.instance.playEffectByType(r.AudioType.PLYAER_DEAD),a.default.getInstance().bomb(this.node.position,1),n.default.instance.putEnemy(this.node)},t=__decorate([p],t)}(i.default));o.default=l,cc._RF.pop()},{"../AudioManager":"AudioManager","../Config":"Config","./BombPool":"BombPool","./EnemyBase":"EnemyBase","./EnemySpawn":"EnemySpawn"}],BombPool:[function(e,t,o){"use strict";cc._RF.push(t,"7e57ds6zntKp4Qo5QXAv/Kd","BombPool"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,a=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bombPre=null,t.bombNodes=new cc.NodePool,t}return __extends(t,e),o=t,t.prototype.onLoad=function(){o.instance=this},t.getInstance=function(){return o.instance},t.prototype.start=function(){},t.prototype.bomb=function(e,t){var o=this;void 0===t&&(t=0);var i=this.getBomb();i.parent=this.node,i.setPosition(e);var n=i.getComponent(cc.Animation),a=1;switch(t){case 0:a=n.play("bomb01_ani").duration;break;case 1:a=n.play("bomb02_ani").duration;break;case 2:a=n.play("bomb03_ani").duration}n&&this.scheduleOnce(function(){o.putBomb(i)},a)},t.prototype.getBomb=function(){if(this.bombNodes.size()<=0){var e=cc.instantiate(this.bombPre);this.bombNodes.put(e)}return this.bombNodes.get()},t.prototype.putBomb=function(e){e&&this.bombNodes.put(e)},t.instance=null,__decorate([a(cc.Prefab)],t.prototype,"bombPre",void 0),t=o=__decorate([n],t);var o}(cc.Component);o.default=c,cc._RF.pop()},{}],Boss:[function(e,t,o){"use strict";cc._RF.push(t,"f3d4a13VItIo4FmvlKKRxTi","Boss"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../EnemyBase"),n=e("../../Config"),a=e("../../AudioManager"),c=e("../BombPool"),r=e("../../player/Player"),s=cc._decorator,p=s.ccclass,l=s.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boss_eye=null,t.bottom=null,t.eyeAnis=[],t.zidanPre=null,t.pool=new cc.NodePool,t.mode=0,t.isOpneEyes=!1,t}return __extends(t,e),t.prototype.onLoad=function(){for(var e=0;e<20;++e)this.putZidan(cc.instantiate(this.zidanPre))},t.prototype.start=function(){this.shootFrequency=1,this.useTime=1,this.hp=50},t.prototype.openEyes=function(e){var t=this;void 0===e&&(e=!0);var o=0;if(this.eyeAnis.forEach(function(e){t.mode=e.play().wrapMode==cc.WrapMode.Reverse?cc.WrapMode.Normal:cc.WrapMode.Reverse,e.currentClip.wrapMode=t.mode,o=e.currentClip.duration}),e){var i=[];i.push(cc.delayTime(o)),i.push(cc.callFunc(function(){t.isOpneEyes=!0,t.boss_eye.active=!1})),i.push(cc.spawn(cc.delayTime(5),cc.callFunc(function(){var e=t.getZidan();e.parent=t.node,e.position=t.boss_eye.position,t.zidanFun(e)}))),i.push(cc.callFunc(function(){t.isOpneEyes=!1,t.boss_eye.active=!0,t.openEyes(!1)})),this.eyeAnis[0].node.runAction(cc.sequence(i))}},t.prototype.onDestroy=function(){this.node.stopAllActions()},t.prototype.subHp=function(e){return!!this.isOpneEyes&&(this.hp-=e,!0)},t.prototype.onHpSub=function(){a.default.instance.playEffectByType(n.AudioType.HIT),this.node.runAction(cc.sequence(cc.tintTo(.1,255,0,0),cc.tintTo(.1,255,255,255)))},t.prototype.onDie=function(){a.default.instance.playEffectByType(n.AudioType.PLYAER_DEAD),c.default.getInstance().bomb(this.node.position,2),r.default.instance.ui.Result(!0),this.node.destroy()},t.prototype.shoot=function(){this.schedule(this.bottomShoot,.2,cc.macro.REPEAT_FOREVER),this.schedule(this.openEyes,10,cc.macro.REPEAT_FOREVER,5)},t.prototype.bottomShoot=function(){var e=this.getZidan();e.parent=this.node,e.position=this.bottom.position,this.bzidanFun(e)},t.prototype.putZidan=function(e){e&&this.pool.put(e)},t.prototype.getZidan=function(){if(this.pool.size()<=0){var e=cc.instantiate(this.zidanPre);this.pool.put(e)}return this.pool.get()},t.prototype.zidanFun=function(e){var t=this,o=200*Math.random()-100;e.rotation=-o;var i=[];i.push(cc.moveBy(1,cc.p(-200,o))),i.push(cc.moveBy(2,cc.p(0,100))),i.push(cc.callFunc(function(){t.putZidan(e)})),e.runAction(cc.sequence(i))},t.prototype.bzidanFun=function(e){var t=this,o=200*Math.random()-100,i=[];i.push(cc.moveBy(1,cc.p(-200+o,200))),i.push(cc.moveBy(2,cc.p(0,-500))),i.push(cc.callFunc(function(){t.putZidan(e)})),e.runAction(cc.sequence(i))},__decorate([l(cc.Node)],t.prototype,"boss_eye",void 0),__decorate([l(cc.Node)],t.prototype,"bottom",void 0),__decorate([l(cc.Animation)],t.prototype,"eyeAnis",void 0),__decorate([l(cc.Prefab)],t.prototype,"zidanPre",void 0),t=__decorate([p],t)}(i.default);o.default=d,cc._RF.pop()},{"../../AudioManager":"AudioManager","../../Config":"Config","../../player/Player":"Player","../BombPool":"BombPool","../EnemyBase":"EnemyBase"}],Config:[function(e,t,o){"use strict";cc._RF.push(t,"259982pYrJK2oh6fhqSx8GA","Config"),Object.defineProperty(o,"__esModule",{value:!0});!function(e){e[e.BORN=0]="BORN",e[e.PRETECTED=1]="PRETECTED",e[e.NORMAL=2]="NORMAL",e[e.DIE=3]="DIE"}(o.PlayerState||(o.PlayerState={}));!function(e){e[e.PLYAER_ZIDAN=0]="PLYAER_ZIDAN",e[e.PLYAER_DEAD=1]="PLYAER_DEAD",e[e.PLYAER_GET=2]="PLYAER_GET",e[e.HIT=3]="HIT",e[e.SKILL_HIT=4]="SKILL_HIT",e[e.GET_SKILL=5]="GET_SKILL"}(o.AudioType||(o.AudioType={}));!function(e){e[e.SKILL_M=0]="SKILL_M",e[e.SKILL_B=1]="SKILL_B",e[e.SKILL_F=2]="SKILL_F",e[e.SKILL_L=3]="SKILL_L",e[e.SKILL_S=4]="SKILL_S",e[e.SKILL_R=5]="SKILL_R"}(o.SkillType||(o.SkillType={})),cc._RF.pop()},{}],DazuiEnemy:[function(e,t,o){"use strict";cc._RF.push(t,"47f8dqWXdlHsoUYEiO1QXG2","DazuiEnemy"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./EnemyBase"),n=e("./BombPool"),a=e("../Config"),c=e("../AudioManager"),r=cc._decorator,s=r.ccclass,p=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pre=null,t.zidanTimes=2,t.shootTime=1,t}return __extends(t,e),t.prototype.onLoad=function(){this.shootFrequency=8,this.useTime=2},t.prototype.start=function(){this.hp=3},t.prototype.shoot=function(){var e=this,t=[],o=this.getComponent(cc.Animation);t.push(cc.callFunc(function(){o.play("dazui_open_ani")}));var i=o.getAnimationState("dazui_open_ani").duration;cc.log("time",i),t.push(cc.delayTime(i));for(var n=0;n<this.zidanTimes;++n)t.push(cc.callFunc(function(){var t=cc.instantiate(e.pre);t.parent=e.node.parent,t.position=e.node.position})),t.push(cc.delayTime(this.shootTime));t.push(cc.callFunc(function(){o.play("dazui_shut_ani")})),t.push(cc.delayTime(o.getAnimationState("dazui_shut_ani").duration)),this.node&&this.node.runAction(cc.sequence(t))},t.prototype.onHpSub=function(){c.default.instance.playEffectByType(a.AudioType.HIT),this.node.runAction(cc.sequence(cc.tintTo(.1,255,0,0),cc.tintTo(.1,255,255,255)))},t.prototype.onDie=function(){c.default.instance.playEffectByType(a.AudioType.PLYAER_DEAD),n.default.getInstance().bomb(this.node.position),this.node.destroy()},__decorate([p(cc.Prefab)],t.prototype,"pre",void 0),t=__decorate([s],t)}(i.default);o.default=l,cc._RF.pop()},{"../AudioManager":"AudioManager","../Config":"Config","./BombPool":"BombPool","./EnemyBase":"EnemyBase"}],EnemyBase:[function(e,t,o){"use strict";cc._RF.push(t,"d30ccdpycxBT4DpjwPJK/Ul","EnemyBase"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../Follow"),n=e("../player/Player"),a=e("../Config"),c=e("../weapon/PlayerZidan"),r=cc._decorator,s=r.ccclass,p=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hp=1,t.isUse=!1,t.isUsed=!1,t.triggerDis=568,t.shootFrequency=0,t.useTime=0,t}return __extends(t,e),t.prototype.start=function(){},t.prototype.update=function(e){var t=this.node.x-i.default.getTargetPos().x;this.isUse||this.isUsed?this.isUsed||t<-this.triggerDis&&(this.isUsed=!0,this.enabled=!1,this.unschedule(this.shoot)):t>0&&t<this.triggerDis&&(this.isUse=!0,this.isUsed=!1,this.enabled=!0,cc.log("dis",t),this.schedule(this.shoot,this.shootFrequency,this.useTime,0))},t.prototype.onCollisionEnter=function(e,t){if("playerzidan"!=e.node.group){if("player"==e.node.group){var o=e.node.getComponent(n.default),i=o.playerState;if(i==a.PlayerState.NORMAL||i==a.PlayerState.DIE){s=this.subHp(o.playerLogic.atk);return void(this.isDie()?this.onDie():s&&this.onHpSub())}}}else{var r=e.node.getComponent(c.default),s=this.subHp(r.atk);this.isDie()?this.onDie():s&&this.onHpSub()}},t.prototype.onCollisionStay=function(e,t){if("playerzidan"!=e.node.group){if("player"==e.node.group){var o=e.node.getComponent(n.default),i=o.playerState;if(i==a.PlayerState.NORMAL||i==a.PlayerState.DIE){s=this.subHp(o.playerLogic.atk);return void(this.isDie()?this.onDie():s&&this.onHpSub())}}}else{var r=e.node.getComponent(c.default),s=this.subHp(r.atk);this.isDie()?this.onDie():s&&this.onHpSub()}},t.prototype.onDestroy=function(){this.unschedule(this.shoot)},t.prototype.subHp=function(e){return this.hp-=e,!0},t.prototype.isDie=function(){return this.hp<=0},t.prototype.shoot=function(){cc.log("没有复写此方法-shoot")},t.prototype.onHpSub=function(){cc.log("子类没有重写此方法-onHpSub")},t.prototype.onDie=function(){cc.log("子类没有重写此方法-onDie")},t=__decorate([s],t)}(cc.Component));o.default=p,cc._RF.pop()},{"../Config":"Config","../Follow":"Follow","../player/Player":"Player","../weapon/PlayerZidan":"PlayerZidan"}],EnemyNormalZidan:[function(e,t,o){"use strict";cc._RF.push(t,"6396b+gRmhNTZ/6nGMZW7F3","EnemyNormalZidan"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../Config"),n=e("../player/Player"),a=cc._decorator,c=a.ccclass,r=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=0,t.moveSpeed=100,t.moveDir=cc.p(0,0),t.aiTime=.2,t}return __extends(t,e),t.prototype.start=function(){},t.prototype.update=function(e){switch(this.type){case 0:if(this.aiTime-=e,this.aiTime<0){var t=n.default.getPlayerPos(),o=this.node.position;this.moveDir=t.sub(o),this.moveDir.normalizeSelf(),this.aiTime=1}this.node.setPosition(this.node.position.add(this.moveDir.mul(this.moveSpeed*e)))}},t.prototype.onCollisionEnter=function(e,t){if("playerzidan"!=e.node.group){if("player"==e.node.group){var o=e.node.getComponent(n.default).playerState;if(o==i.PlayerState.NORMAL||o==i.PlayerState.DIE)return void this.node.destroy()}}else this.node.destroy()},t.prototype.onCollisionStay=function(e,t){if("playerzidan"!=e.node.group){if("player"==e.node.group){var o=e.node.getComponent(n.default).playerState;if(o==i.PlayerState.NORMAL||o==i.PlayerState.DIE)return void this.node.destroy()}}else this.node.destroy()},t=__decorate([c],t)}(cc.Component));o.default=r,cc._RF.pop()},{"../Config":"Config","../player/Player":"Player"}],EnemySpawn:[function(e,t,o){"use strict";cc._RF.push(t,"ac37b7hBGZEH53uExjSDUlo","EnemySpawn"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./EnemyBase"),n=cc._decorator,a=n.ccclass,c=n.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enemyPre=null,t.enemysPool=null,t}return __extends(t,e),o=t,t.prototype.onLoad=function(){o.instance=this,this.enemysPool=new cc.NodePool(i.default);for(var e=0;e<10;++e){var t=cc.instantiate(this.enemyPre);this.enemysPool.put(t)}},t.prototype.start=function(){},t.prototype.onEnable=function(){var e=this;cc.log("one"),this.schedule(function(){e.createEnemy()},.5,5,0)},t.prototype.onDisable=function(){},t.prototype.createEnemy=function(){var e=this.getEnemy();e.parent=this.node.parent,e.setPosition(this.node.position)},t.prototype.getEnemy=function(){if(this.enemysPool.size()<=0){var e=cc.instantiate(this.enemyPre);this.enemysPool.put(e)}return this.enemysPool.get()},t.prototype.putEnemy=function(e){e&&this.enemysPool.put(e)},t.instance=null,__decorate([c(cc.Prefab)],t.prototype,"enemyPre",void 0),t=o=__decorate([a],t);var o}(cc.Component);o.default=r,cc._RF.pop()},{"./EnemyBase":"EnemyBase"}],EnemyZidanBase:[function(e,t,o){"use strict";cc._RF.push(t,"e1478tqcV1LIIM80ebV1e6N","EnemyZidanBase"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../player/Player"),n=e("../Config"),a=cc._decorator,c=a.ccclass,r=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onCollisionEnter=function(e,t){if("player"==e.node.group){var o=e.node.getComponent(i.default).playerState;if(o==n.PlayerState.NORMAL||o==n.PlayerState.DIE)return void this.node.destroy()}},t.prototype.onCollisionStay=function(e,t){if("player"==e.node.group){var o=e.node.getComponent(i.default).playerState;if(o==n.PlayerState.NORMAL||o==n.PlayerState.DIE)return void this.node.destroy()}},t=__decorate([c],t)}(cc.Component));o.default=r,cc._RF.pop()},{"../Config":"Config","../player/Player":"Player"}],Follow:[function(e,t,o){"use strict";cc._RF.push(t,"03b13ZeN3RLSZi1e1Fts1Sz","Follow"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./AudioManager"),n=e("./enemy/EnemySpawn"),a=cc._decorator,c=a.ccclass,r=a.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.target=null,t.bgUpAni=null,t.enemySpawn=null,t.speed=1,t.isPlayerAni=!1,t.isboss=!1,t.gameTime=0,t}return __extends(t,e),o=t,t.prototype.onLoad=function(){o.instance=this;var e=cc.follow(this.target,new cc.Rect(0,0,22600,3200));this.node.runAction(e),this.enemySpawn.enabled=!1,this.gameTime=0},t.getTargetPos=function(){return o.pos},t.prototype.start=function(){},t.prototype.update=function(e){this.gameTime+=e,this.target.x<12877?(this.target.x+=this.speed*e,this.target.x>7500&&this.target.x<=11e3&&!this.isPlayerAni?(this.bgUpAni.play().repeatCount=2,this.isPlayerAni=!0):this.target.x>11e3&&this.isPlayerAni,this.gameTime>2&&this.gameTime<3&&(this.enemySpawn.enabled=!0)):this.isboss||(this.isboss=!0,i.default.instance.playBossMusic()),this.target.x>2500&&this.target.x<12e3?this.target.y<=1520&&(this.target.y+=this.speed*e):this.target.x>12e3&&this.target.x<12877&&this.target.y>=923&&(this.target.x-=this.speed*e,this.target.y-=this.speed*e),o.pos=this.target.position},t.instance=null,t.pos=cc.p(),__decorate([r(cc.Node)],t.prototype,"target",void 0),__decorate([r(cc.Animation)],t.prototype,"bgUpAni",void 0),__decorate([r(n.default)],t.prototype,"enemySpawn",void 0),__decorate([r],t.prototype,"speed",void 0),t=o=__decorate([c],t);var o}(cc.Component);o.default=s,cc._RF.pop()},{"./AudioManager":"AudioManager","./enemy/EnemySpawn":"EnemySpawn"}],KltEnemy:[function(e,t,o){"use strict";cc._RF.push(t,"98e2bQw2IJGq74HEsID4smi","KltEnemy"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./EnemyBase"),n=e("./BombPool"),a=e("../Config"),c=e("../player/Player"),r=e("../AudioManager"),s=cc._decorator,p=s.ccclass,l=s.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.childNode=null,t.moveSpeed=200,t.moveDir=cc.p(0,0),t.aiTime=.2,t}return __extends(t,e),t.prototype.onLoad=function(){this.shootFrequency=0,this.useTime=1},t.prototype.start=function(){this.hp=1},t.prototype.update=function(t){if(e.prototype.update.call(this,t),this.isUse&&!this.isUsed){if(this.aiTime-=t,this.aiTime<0){var o=c.default.getPlayerPos(),i=this.node.position;this.moveDir=o.sub(i),this.moveDir.normalizeSelf(),this.aiTime=.2}this.node.setPosition(this.node.position.add(this.moveDir.mul(this.moveSpeed*t)))}},t.prototype.shoot=function(){var e=[];e.push(cc.spawn(cc.rotateBy(.2,360),cc.moveBy(.1,cc.p(0,3)))),e.push(cc.moveBy(.1,cc.p(0,-3))),this.node&&this.childNode.runAction(cc.repeatForever(cc.sequence(e)))},t.prototype.onHpSub=function(){r.default.instance.playEffectByType(a.AudioType.HIT),this.node.runAction(cc.sequence(cc.tintTo(.1,255,0,0),cc.tintTo(.1,255,255,255)))},t.prototype.onDie=function(){r.default.instance.playEffectByType(a.AudioType.PLYAER_DEAD),n.default.getInstance().bomb(this.node.position),this.node.destroy()},__decorate([l(cc.Node)],t.prototype,"childNode",void 0),t=__decorate([p],t)}(i.default);o.default=d,cc._RF.pop()},{"../AudioManager":"AudioManager","../Config":"Config","../player/Player":"Player","./BombPool":"BombPool","./EnemyBase":"EnemyBase"}],PlayerLogic:[function(e,t,o){"use strict";cc._RF.push(t,"399e7xjMvVLFb6gQadAVj0H","PlayerLogic"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../BaseLogic"),n=cc._decorator,a=(n.ccclass,n.property,function(e){function t(t){var o=e.call(this)||this;return o.life=4,o.level_move=1,o.level_zidanMaxNum=1,o.level_zidanspeed=1,o.atk=1,o.moveSpeed=200,o.zidanSpeed=800,o.zidanCurNum=[0,0,0],o.zidanGapTime=.05,o.zidanAddTime=[0,0,0],o.zidanRotate=[0,0,0],o.fupaoGapTime=.08,o.fupaoAddTime=0,o.rotateRate=22.5,o.playerUI=t,o}return __extends(t,e),t.prototype.init=function(){},t.prototype.subBuff=function(){this.moveSpeed>200&&(this.moveSpeed-=50,this.level_move-=1),this.zidanSpeed>800&&(this.zidanSpeed-=200,this.level_zidanspeed-=1),this.level_zidanMaxNum>1&&(this.level_zidanMaxNum-=1),this.atk>1&&(this.atk-=1)},t}(i.default));o.default=a,cc._RF.pop()},{"../BaseLogic":"BaseLogic"}],PlayerUI:[function(e,t,o){"use strict";cc._RF.push(t,"4a58efQ/3BHL6o8We5ZEeh9","PlayerUI"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../AudioManager"),n=cc._decorator,a=n.ccclass,c=n.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.playerLife=null,t.playerAtk=null,t.playerMoveSpeed=null,t.playerfireSpeed=null,t.playerPowerNum=null,t.gameOver=null,t.go=null,t.back=null,t}return __extends(t,e),t.prototype.onLoad=function(){var e=this;this.go.node.on("click",function(){e.onGo()}),this.back.node.on("click",function(){e.onBack()})},t.prototype.start=function(){this.gameOver.node.active=!1},t.prototype.updateUI=function(e){var t=e.life<0?0:e.life;this.playerLife.string="剩余机甲："+t,this.playerAtk.string="火力等级："+e.atk,this.playerMoveSpeed.string="机动等级："+e.level_move,this.playerfireSpeed.string="发射速度等级："+e.level_zidanspeed,this.playerPowerNum.string="连射等级："+e.level_zidanMaxNum},t.prototype.Result=function(e){var t=this;e?(this.gameOver.string="任务完成！",i.default.instance.playGameWinMusic()):(this.gameOver.string="任务失败！",i.default.instance.playGameOverMusic(),this.scheduleOnce(function(){t.onGo()},8)),this.gameOver.node.active=!0},t.prototype.onGo=function(){this.unscheduleAllCallbacks(),i.default.instance.stopAllAudio(),cc.director.loadScene("Level01")},t.prototype.onBack=function(){this.unscheduleAllCallbacks(),i.default.instance.stopAllAudio(),cc.director.loadScene("Level01")},__decorate([c(cc.Label)],t.prototype,"playerLife",void 0),__decorate([c(cc.Label)],t.prototype,"playerAtk",void 0),__decorate([c(cc.Label)],t.prototype,"playerMoveSpeed",void 0),__decorate([c(cc.Label)],t.prototype,"playerfireSpeed",void 0),__decorate([c(cc.Label)],t.prototype,"playerPowerNum",void 0),__decorate([c(cc.Label)],t.prototype,"gameOver",void 0),__decorate([c(cc.Button)],t.prototype,"go",void 0),__decorate([c(cc.Button)],t.prototype,"back",void 0),t=__decorate([a],t)}(cc.Component);o.default=r,cc._RF.pop()},{"../AudioManager":"AudioManager"}],PlayerZidan:[function(e,t,o){"use strict";cc._RF.push(t,"bb8ecfZtP5MU6oMQ+XxR6KJ","PlayerZidan"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,a=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.zidanSpf=[],t.atk=1,t.speed=0,t.dir=cc.p(1,0),t._putCallBack=null,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.init=function(e,t,o,i){var n=this;this.node.setPosition(e),this.node.active=!0,this.atk=t,this.speed=o,this.dir=i.normalize();var a=1130/o;if(this.node.stopAllActions(),this.node.scale=.2,this.atk>=4){this.getComponent(cc.Sprite).spriteFrame=this.zidanSpf[1];c=cc.spawn(cc.rotateBy(a,1800),cc.scaleTo(a,this.node.scaleX+.8*t,this.node.scaleY+.8*t));this.node.runAction(c)}else{this.getComponent(cc.Sprite).spriteFrame=this.zidanSpf[0];var c=cc.scaleTo(a,this.node.scaleX+.8*t,this.node.scaleY+.8*t);this.node.runAction(c)}this.scheduleOnce(function(){n._putCallBack&&(n._putCallBack(),n._putCallBack=null)},a)},t.prototype.setPutCallBack=function(e){this._putCallBack=e},t.prototype.onCollisionEnter=function(e,t){this.unscheduleAllCallbacks(),this._putCallBack&&(this._putCallBack(),this._putCallBack=null)},t.prototype.update=function(e){var t=this.dir.mul(this.speed*e);this.node.setPosition(this.node.getPosition().add(t))},__decorate([a(cc.SpriteFrame)],t.prototype,"zidanSpf",void 0),t=__decorate([n],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],Player:[function(e,t,o){"use strict";cc._RF.push(t,"f55c8c5S5tNILt6PoC9K+k+","Player"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./PlayerLogic"),n=e("../AudioManager"),a=e("../Config"),c=e("./PlayerUI"),r=e("../weapon/PlayerZidan"),s=cc._decorator,p=s.ccclass,l=s.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.playerZidanPre=null,t.followNode=null,t.playerBomb=null,t.playerPao=null,t.weaponUp=null,t.weaponDown=null,t.ui=null,t.keyCodeMap={},t.curKey=-1,t.directionY=0,t.playerLogic=null,t.zidanNodes=null,t.playerState=a.PlayerState.NORMAL,t}return __extends(t,e),o=t,t.getPlayerPos=function(){return o.pos},t.prototype.onLoad=function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDonw,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),this.playerLogic=new i.default(this),this.zidanNodes=new cc.NodePool(r.default);for(var e=0;e<10;++e){var t=cc.instantiate(this.playerZidanPre);this.zidanNodes.put(t)}},t.prototype.start=function(){o.instance=this,this.ui.updateUI(this.playerLogic)},t.prototype.onDestroy=function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDonw,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},t.prototype.onEnable=function(){cc.director.getCollisionManager().enabled=!0},t.prototype.onDisable=function(){cc.director.getCollisionManager().enabled=!1},t.prototype.onCollisionEnter=function(e,t){this._collisonHand(e,t)},t.prototype.reBorn=function(){var e=this;this.playerState=a.PlayerState.BORN,this.node.active=!0,this.node.position=this.followNode.position,this.node.setPositionX(this.followNode.position.x-565);var t=[];t.push(cc.moveBy(.8,cc.p(250,0))),t.push(cc.callFunc(function(){e.playerState=a.PlayerState.PRETECTED})),t.push(cc.delayTime(2.2)),t.push(cc.callFunc(function(){e.playerState=a.PlayerState.NORMAL})),this.node.runAction(cc.blink(3,12)),this.node.runAction(cc.sequence(t))},t.prototype.onCollisionStay=function(e,t){this._collisonHand(e,t)},t.prototype.onCollisionExit=function(){},t.prototype.addBufferByType=function(e){switch(e){case a.SkillType.SKILL_M:this.playerLogic.atk<4&&(this.playerLogic.atk+=1);break;case a.SkillType.SKILL_B:this.playerLogic.level_zidanMaxNum<3&&(this.playerLogic.level_zidanMaxNum+=1);break;case a.SkillType.SKILL_F:break;case a.SkillType.SKILL_L:this.playerLogic.zidanSpeed<1200&&(this.playerLogic.zidanSpeed+=200,this.playerLogic.level_zidanspeed+=1);break;case a.SkillType.SKILL_S:this.playerLogic.moveSpeed<300&&(this.playerLogic.moveSpeed+=50,this.playerLogic.level_move+=1);break;case a.SkillType.SKILL_R:}this.ui.updateUI(this.playerLogic)},t.prototype._collisonHand=function(e,t){("collision"!=e.node.group||this.playerState!=a.PlayerState.NORMAL)&&!("enemy"==e.node.group&&this.playerState==a.PlayerState.NORMAL||"enemyzidan"==e.node.group&&this.playerState==a.PlayerState.NORMAL)?"enemyzidanbomb"!=e.node.group||this.playerState!=a.PlayerState.NORMAL||this._dieHand():this._dieHand()},t.prototype._dieHand=function(){var e=this;n.default.instance.playEffectByType(a.AudioType.PLYAER_DEAD),this.playerState=a.PlayerState.DIE,this.playerLogic.life-=1,this.playerLogic.subBuff(),this.ui.updateUI(this.playerLogic),this.node.active=!1,this.playerBomb.position=this.node.position,this.playerBomb.active=!0;var t=this.playerBomb.getComponent(cc.Animation).play().duration;this.scheduleOnce(function(){e.playerBomb.active=!1,e.playerLogic.life<0?e.ui.Result(!1):e.reBorn()},t)},t.prototype.onKeyDonw=function(e){switch(e.keyCode){case cc.KEY.up:case cc.KEY.w:this.directionY=1;break;case cc.KEY.down:case cc.KEY.s:this.directionY=-1;break;case cc.KEY.left:case cc.KEY.a:this.keyCodeMap[cc.KEY.a]=!0,this.curKey=cc.KEY.a;break;case cc.KEY.right:case cc.KEY.d:this.keyCodeMap[cc.KEY.d]=!0,this.curKey=cc.KEY.d;break;case cc.KEY.j:case cc.KEY.space:this.keyCodeMap[cc.KEY.j]=!0;break;case cc.KEY.k:this.keyCodeMap[cc.KEY.k]=!0}},t.prototype.onKeyUp=function(e){switch(e.keyCode){case cc.KEY.up:case cc.KEY.w:this.directionY=0;break;case cc.KEY.down:case cc.KEY.s:this.directionY=0;break;case cc.KEY.left:case cc.KEY.a:this.keyCodeMap[cc.KEY.a]=!1;break;case cc.KEY.right:case cc.KEY.d:this.keyCodeMap[cc.KEY.d]=!1;break;case cc.KEY.j:case cc.KEY.space:this.keyCodeMap[cc.KEY.j]=!1;break;case cc.KEY.k:this.keyCodeMap[cc.KEY.k]=!1}},t.prototype.getKeyPress=function(e){return this.keyCodeMap[e]},t.prototype.update=function(e){var t=this;this.playerState!=a.PlayerState.NORMAL&&this.playerState!=a.PlayerState.PRETECTED||(this.keyCodeMap[cc.KEY.a]&&this.keyCodeMap[cc.KEY.d]?this.curKey==cc.KEY.a?this.getKeyPress(cc.KEY.a)?this.node.x-=this.playerLogic.moveSpeed*e:this.node.x+=this.playerLogic.moveSpeed*e:this.curKey==cc.KEY.d&&(this.getKeyPress(cc.KEY.d)?this.node.x+=this.playerLogic.moveSpeed*e:this.node.x-=this.playerLogic.moveSpeed*e):this.getKeyPress(cc.KEY.a)?this.node.x-=this.playerLogic.moveSpeed*e:this.getKeyPress(cc.KEY.d)&&(this.node.x+=this.playerLogic.moveSpeed*e),this.node.y+=this.playerLogic.moveSpeed*e*this.directionY,this.followNode.getPositionX()+this.node.width-this.node.getPositionX()>=565?this.node.x=this.followNode.getPositionX()-565+this.node.width:this.node.getPositionX()+this.node.width-this.followNode.getPositionX()>=565&&(this.node.x=this.followNode.getPositionX()+565-this.node.width),this.followNode.getPositionY()+this.node.height-this.node.getPositionY()>=320?this.node.y=this.followNode.getPositionY()-320+this.node.height:this.node.getPositionY()+this.node.height-this.followNode.getPositionY()>=320&&(this.node.y=this.followNode.getPositionY()+320-this.node.height),this.playerLogic.zidanAddTime[0]+=e,this.playerLogic.zidanAddTime[1]+=e,this.playerLogic.zidanAddTime[2]+=e,this.keyCodeMap[cc.KEY.j]&&this.playerLogic.zidanCurNum.forEach(function(e,o){if(t.playerLogic.zidanAddTime[o]>t.playerLogic.zidanGapTime&&t.playerLogic.zidanCurNum[o]<t.playerLogic.level_zidanMaxNum){var i=t.getZidan(),n=t.getShootPositonByKey(o),a=t.node.convertToWorldSpaceAR(n),c=t.node.parent.convertToNodeSpaceAR(a);i.parent=t.node.parent,i.getComponent(r.default).init(c,t.playerLogic.atk,t.playerLogic.zidanSpeed,t.getDirByAngle(t.playerLogic.zidanRotate[o])),i.getComponent(r.default).setPutCallBack(function(){t.playerLogic.zidanCurNum[o]--,t.putZidan(i)}),t.playerLogic.zidanAddTime[o]=0,t.playerLogic.zidanCurNum[o]++}}),this.playerLogic.fupaoAddTime+=e,this.keyCodeMap[cc.KEY.k]&&this.playerLogic.fupaoAddTime>this.playerLogic.fupaoGapTime&&(this.weaponUp.rotation-=this.playerLogic.rotateRate,this.weaponDown.rotation+=this.playerLogic.rotateRate,(this.weaponDown.rotation>=180||this.weaponDown.rotation<=0)&&(this.playerLogic.rotateRate=-this.playerLogic.rotateRate),this.playerLogic.zidanRotate[1]=this.weaponUp.rotation,this.playerLogic.zidanRotate[2]=this.weaponDown.rotation,this.playerLogic.fupaoAddTime=0)),o.pos=this.node.position},t.prototype.shootZidan=function(){},t.prototype.getShootPositonByKey=function(e){var t=cc.p();switch(e){case 0:t=this.playerPao.position;break;case 1:t=this.weaponDown.position;break;case 2:t=this.weaponUp.position}return t},t.prototype.getDirByAngle=function(e){var t=cc.p(1,0);return t=t.rotate(e*Math.PI/180)},t.prototype.getZidan=function(){if(this.zidanNodes.size()<=0){var e=cc.instantiate(this.playerZidanPre);this.zidanNodes.put(e)}return this.zidanNodes.get()},t.prototype.putZidan=function(e){e&&this.zidanNodes.put(e)},t.pos=cc.p(),t.instance=null,__decorate([l(cc.Prefab)],t.prototype,"playerZidanPre",void 0),__decorate([l(cc.Node)],t.prototype,"followNode",void 0),__decorate([l(cc.Node)],t.prototype,"playerBomb",void 0),__decorate([l(cc.Node)],t.prototype,"playerPao",void 0),__decorate([l(cc.Node)],t.prototype,"weaponUp",void 0),__decorate([l(cc.Node)],t.prototype,"weaponDown",void 0),__decorate([l(c.default)],t.prototype,"ui",void 0),t=o=__decorate([p],t);var o}(cc.Component);o.default=d,cc._RF.pop()},{"../AudioManager":"AudioManager","../Config":"Config","../weapon/PlayerZidan":"PlayerZidan","./PlayerLogic":"PlayerLogic","./PlayerUI":"PlayerUI"}],ShaderEffect:[function(e,t,o){"use strict";cc._RF.push(t,"5e6cdQZlwNAv7VqUUw1BF2M","ShaderEffect"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,a=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fragShader="shader/flash_d.glsl",t.shaderSpr=null,t.condition=0,t.default_vert="\n    attribute vec4 a_position;\n    attribute vec2 a_texCoord;\n    attribute vec4 a_color;\n    varying vec2 v_texCoord;\n    varying vec4 v_fragmentColor;\n    void main()\n    {\n        gl_Position = CC_PMatrix * a_position;\n        v_fragmentColor = a_color;\n        v_texCoord = a_texCoord;\n    }\n    ",t.isOk=!1,t.frag_glsl="",t.startTime=Date.now(),t.time=0,t.resolution={x:0,y:0},t}return __extends(t,e),t.prototype.onLoad=function(){this.isUse=!1,this.resolution.x=this.node.getContentSize().width,this.resolution.y=this.node.getContentSize().height;var e=this;cc.loader.loadRes(this.fragShader,function(t,o){t?cc.log(t):(e.frag_glsl=o,e.isUse=!1,e.isOk=!0,e.useShader())})},t.prototype.start=function(){},t.prototype.useShader=function(e){if(void 0===e&&(e=!1),this.isOk){if(this.condition=e?0:1,this.program=new cc.GLProgram,cc.sys.isNative?this.program.initWithString(this.default_vert,this.frag_glsl):(this.program.initWithVertexShaderByteArray(this.default_vert,this.frag_glsl),this.program.addAttribute(cc.macro.ATTRIBUTE_NAME_POSITION,cc.macro.VERTEX_ATTRIB_POSITION),this.program.addAttribute(cc.macro.ATTRIBUTE_NAME_COLOR,cc.macro.VERTEX_ATTRIB_COLOR),this.program.addAttribute(cc.macro.ATTRIBUTE_NAME_TEX_COORD,cc.macro.VERTEX_ATTRIB_TEX_COORDS)),this.program.link(),this.program.updateUniforms(),this.program.use(),this.isUse=!0,cc.sys.isNative){var t=cc.GLProgramState.getOrCreateWithGLProgram(this.program);t.setUniformFloat("time",this.time),t.setUniformVec2("resolution",this.resolution),t.setUniformInt("condition",this.condition)}else{var o=this.program.getUniformLocationForName("time"),i=this.program.getUniformLocationForName("resolution"),n=this.program.getUniformLocationForName("condition");this.program.setUniformLocationWith1f(o,this.time),this.program.setUniformLocationWith2f(i,this.resolution.x,this.resolution.y),this.program.setUniformLocationWith1i(n,this.condition)}this.shaderSpr.node.active=!0,this.setProgram(this.shaderSpr._sgNode,this.program)}else cc.log("资源加载中。。。")},t.prototype.setProgram=function(e,t){if(cc.sys.isNative){var o=cc.GLProgramState.getOrCreateWithGLProgram(t);e.setGLProgramState(o)}else e.setShaderProgram(t)},t.prototype.updateParameters=function(){this.time=(Date.now()-this.startTime)/1e3},t.prototype.update=function(){if(this.isUse&&0!=this.condition&&(this.updateParameters(),this.program))if(this.program.use(),cc.sys.isNative)cc.GLProgramState.getOrCreateWithGLProgram(this.program).setUniformFloat("time",this.time);else{var e=this.program.getUniformLocationForName("time");this.program.setUniformLocationWith1f(e,this.time)}},__decorate([a],t.prototype,"fragShader",void 0),__decorate([a(cc.Sprite)],t.prototype,"shaderSpr",void 0),t=__decorate([n],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],SkillEnemy:[function(e,t,o){"use strict";cc._RF.push(t,"3909aNIGHpGkZNzhAwn6xpz","SkillEnemy"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../EnemyBase"),n=e("../BombPool"),a=e("../../Config"),c=e("./Skill"),r=e("../../AudioManager"),s=cc._decorator,p=s.ccclass,l=s.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skillPre=null,t.killType="0",t.moveSpeed=cc.p(100,50),t.ySwitchTime=.5,t.swi=1,t.isGo=!1,t}return __extends(t,e),t.prototype.start=function(){this.triggerDis=1136},t.prototype.shoot=function(){this.isGo=!0;var e=[];e.push(cc.moveBy(.5,cc.p(0,25))),e.push(cc.moveBy(1,cc.p(0,-50))),e.push(cc.moveBy(.5,cc.p(0,25))),this.node.runAction(cc.repeatForever(cc.sequence(e)))},t.prototype.update=function(t){e.prototype.update.call(this,t),this.isGo&&this.node.setPositionX(this.node.getPositionX()+-1*this.moveSpeed.x*t)},t.prototype.onHpSub=function(){},t.prototype.onDie=function(){r.default.instance.playEffectByType(a.AudioType.SKILL_HIT),n.default.getInstance().bomb(this.node.position,0);var e=cc.instantiate(this.skillPre);e.parent=this.node.parent,e.position=this.node.position,e.getComponent(c.default).setSkillType(this.killType),this.node.destroy()},__decorate([l(cc.Prefab)],t.prototype,"skillPre",void 0),__decorate([l(cc.String)],t.prototype,"killType",void 0),t=__decorate([p],t)}(i.default);o.default=d,cc._RF.pop()},{"../../AudioManager":"AudioManager","../../Config":"Config","../BombPool":"BombPool","../EnemyBase":"EnemyBase","./Skill":"Skill"}],Skill:[function(e,t,o){"use strict";cc._RF.push(t,"7745fXNFT1G+Jw/jek9ZqIx","Skill"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../../Config"),n=e("../../player/Player"),a=e("../../AudioManager"),c=cc._decorator,r=c.ccclass,s=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skillSpr=null,t.skillSpf=[],t.type=i.SkillType.SKILL_M,t}return __extends(t,e),t.prototype.start=function(){},t.prototype.setSkillType=function(e){this.type=parseInt(e),this.skillSpr.spriteFrame=this.skillSpf[this.type]},t.prototype.getSkill=function(){},t.prototype.update=function(e){this.node.setPositionX(this.node.getPositionX()-50*e)},t.prototype.onCollisionEnter=function(e,t){if("player"==e.node.group){var o=e.node.getComponent(n.default);if(o.playerState!=i.PlayerState.DIE)return a.default.instance.playEffectByType(i.AudioType.GET_SKILL),o.addBufferByType(this.type),void this.node.destroy()}},t.prototype.onCollisionStay=function(e,t){"player"!=e.node.group||e.node.getComponent(n.default).playerState==i.PlayerState.DIE||this.node.destroy()},__decorate([s(cc.Sprite)],t.prototype,"skillSpr",void 0),__decorate([s([cc.SpriteFrame])],t.prototype,"skillSpf",void 0),t=__decorate([r],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../../AudioManager":"AudioManager","../../Config":"Config","../../player/Player":"Player"}],TankEnemy:[function(e,t,o){"use strict";cc._RF.push(t,"1a3d52JMIJNYLXl1Ynx9Zkx","TankEnemy"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./EnemyBase"),n=e("../Config"),a=e("./BombPool"),c=e("../AudioManager"),r=cc._decorator,s=r.ccclass,p=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enemyZidanPre=null,t.shootNode=null,t.shootSpeed=-300,t.shootNum=2,t.shootstep=.2,t}return __extends(t,e),t.prototype.onload=function(){},t.prototype.start=function(){this.shootFrequency=3,this.useTime=cc.macro.REPEAT_FOREVER,this.hp=5},t.prototype.shoot=function(){var e=this;cc.log("????????"),this.getComponent(cc.Animation).play();for(var t=[],o=0;o<this.shootNum;++o)t.push(cc.callFunc(function(){var t=cc.instantiate(e.enemyZidanPre);t.parent=e.node.parent;var o=e.node.convertToWorldSpaceAR(e.shootNode.position),i=e.node.parent.convertToNodeSpaceAR(o);t.position=i})),t.push(cc.delayTime(this.shootstep));this.node&&this.node.runAction(cc.sequence(t))},t.prototype.onHpSub=function(){c.default.instance.playEffectByType(n.AudioType.HIT),this.node.runAction(cc.sequence(cc.tintTo(.1,255,0,0),cc.tintTo(.1,255,255,255)))},t.prototype.onDie=function(){c.default.instance.playEffectByType(n.AudioType.PLYAER_DEAD),a.default.getInstance().bomb(this.node.position),this.node.destroy()},__decorate([p(cc.Prefab)],t.prototype,"enemyZidanPre",void 0),__decorate([p(cc.Node)],t.prototype,"shootNode",void 0),t=__decorate([s],t)}(i.default);o.default=l,cc._RF.pop()},{"../AudioManager":"AudioManager","../Config":"Config","./BombPool":"BombPool","./EnemyBase":"EnemyBase"}],TankZidan:[function(e,t,o){"use strict";cc._RF.push(t,"dbbe3hUGrlDL4XGX9gKSFQz","TankZidan"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./EnemyZidanBase"),n=cc._decorator,a=n.ccclass,c=(n.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.moveSpeed=300,t.moveDir=cc.p(-1,0),t}return __extends(t,e),t.prototype.start=function(){var e=this;this.node.runAction(cc.moveBy(3,this.moveDir.mul(3*this.moveSpeed))),this.scheduleOnce(function(){e.node&&e.node.destroy()},3)},t.prototype.update=function(e){},t=__decorate([a],t)}(i.default));o.default=c,cc._RF.pop()},{"./EnemyZidanBase":"EnemyZidanBase"}]},{},["AudioManager","BaseLogic","Config","Follow","Bird","BombPool","DazuiEnemy","EnemyBase","EnemyNormalZidan","EnemySpawn","EnemyZidanBase","KltEnemy","TankEnemy","TankZidan","Boss","Skill","SkillEnemy","Player","PlayerLogic","PlayerUI","ShaderEffect","PlayerZidan"]);