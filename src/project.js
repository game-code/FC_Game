require=function e(t,o,i){function n(a,s){if(!o[a]){if(!t[a]){var r="function"==typeof require&&require;if(!s&&r)return r(a,!0);if(c)return c(a,!0);var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}var d=o[a]={exports:{}};t[a][0].call(d.exports,function(e){var o=t[a][1][e];return n(o||e)},d,d.exports,e,t,o,i)}return o[a].exports}for(var c="function"==typeof require&&require,a=0;a<i.length;a++)n(i[a]);return n}({AudioManager:[function(e,t,o){"use strict";cc._RF.push(t,"4893cZrqdRLbaDdq8wPx7Hy","AudioManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./Config"),n=cc._decorator,c=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.bgMusic=null,t.jqingEnterBgMusic=null,t.jqingStartBgMusic=null,t.zidan=null,t.bgMusicId=-1,t}return __extends(t,e),o=t,t.prototype.onLoad=function(){o.instance=this,this.playMusic(this.bgMusic)},t.prototype.playEffectByType=function(e){switch(e){case i.AudioType.PLYAER_ZIDAN:this.playEffect(this.zidan);break;case i.AudioType.PLYAER_GET:case i.AudioType.PLYAER_DEAD:}},t.prototype.playBossMusic=function(){this.playMusic(this.jqingEnterBgMusic)},t.prototype.playMusic=function(e){-1!=this.bgMusicId&&cc.audioEngine.stop(this.bgMusicId),this.bgMusicId=cc.audioEngine.play(e,!0,1)},t.prototype.getMusicDuration=function(e){return cc.audioEngine.getDuration(e)},t.prototype.playEffect=function(e,t){return void 0===t&&(t=!1),cc.audioEngine.play(e,t,1)},t.prototype.stopEffect=function(e){cc.audioEngine.stop(e)},t.prototype.stopAllAudio=function(e){cc.audioEngine.stopAll()},t.instance=null,__decorate([a(cc.Label)],t.prototype,"label",void 0),__decorate([a(cc.AudioClip)],t.prototype,"bgMusic",void 0),__decorate([a(cc.AudioClip)],t.prototype,"jqingEnterBgMusic",void 0),__decorate([a(cc.AudioClip)],t.prototype,"jqingStartBgMusic",void 0),__decorate([a(cc.AudioClip)],t.prototype,"zidan",void 0),t=o=__decorate([c],t);var o}(cc.Component);o.default=s,cc._RF.pop()},{"./Config":"Config"}],BaseLogic:[function(e,t,o){"use strict";cc._RF.push(t,"e7efbpDO3JA1J+woozzQgMX","BaseLogic"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=(i.ccclass,i.property,function(){return function(){}}());o.default=n,cc._RF.pop()},{}],Bird:[function(e,t,o){"use strict";cc._RF.push(t,"d5d0eCivclCJKMRvFSHOxAL","Bird"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./EnemyBase"),n=e("./EnemySpawn"),c=cc._decorator,a=c.ccclass,s=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.moveSpeed=-200,t}return __extends(t,e),t.prototype.start=function(){var e=[],t=cc.moveBy(.5,cc.p(.1*this.moveSpeed,25)),o=cc.moveBy(1,cc.p(.2*this.moveSpeed,-50)),i=cc.moveBy(1,cc.p(.2*this.moveSpeed,50));e.push(t);for(var n=0;n<10;n++)e.push(o),e.push(i);this.node.runAction(cc.sequence(e))},t.prototype.update=function(e){},t.prototype.onCollisionEnter=function(e,t){cc.log(t,e),"playerzidan"!=e.node.group&&"player"!=e.node.group||n.default.instance.putEnemy(this.node)},t=__decorate([a],t)}(i.default));o.default=s,cc._RF.pop()},{"./EnemyBase":"EnemyBase","./EnemySpawn":"EnemySpawn"}],Config:[function(e,t,o){"use strict";cc._RF.push(t,"259982pYrJK2oh6fhqSx8GA","Config"),Object.defineProperty(o,"__esModule",{value:!0});!function(e){e[e.PLYAER_IDLE_01=0]="PLYAER_IDLE_01",e[e.PLYAER_IDLE_02=1]="PLYAER_IDLE_02",e[e.PLYAER_NORMAL=2]="PLYAER_NORMAL",e[e.PLYAER_BOOM=3]="PLYAER_BOOM"}(o.PlayerState||(o.PlayerState={}));!function(e){e[e.PLYAER_ZIDAN=0]="PLYAER_ZIDAN",e[e.PLYAER_DEAD=1]="PLYAER_DEAD",e[e.PLYAER_GET=2]="PLYAER_GET"}(o.AudioType||(o.AudioType={})),cc._RF.pop()},{}],EnemyBase:[function(e,t,o){"use strict";cc._RF.push(t,"d30ccdpycxBT4DpjwPJK/Ul","EnemyBase"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,c=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.start=function(){},t=__decorate([n],t)}(cc.Component));o.default=c,cc._RF.pop()},{}],EnemySpawn:[function(e,t,o){"use strict";cc._RF.push(t,"ac37b7hBGZEH53uExjSDUlo","EnemySpawn"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./EnemyBase"),n=cc._decorator,c=n.ccclass,a=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enemyPre=null,t.enemysPool=null,t}return __extends(t,e),o=t,t.prototype.onLoad=function(){o.instance=this,this.enemysPool=new cc.NodePool(i.default);for(var e=0;e<10;++e){var t=cc.instantiate(this.enemyPre);this.enemysPool.put(t)}},t.prototype.start=function(){},t.prototype.onEnable=function(){var e=this;cc.log("one"),this.schedule(function(){e.createEnemy()},.2,5,0)},t.prototype.onDisable=function(){},t.prototype.createEnemy=function(){var e=this.getEnemy();e.parent=this.node.parent,e.setPosition(this.node.position)},t.prototype.getEnemy=function(){if(this.enemysPool.size()<=0){var e=cc.instantiate(this.enemyPre);this.enemysPool.put(e)}return this.enemysPool.get()},t.prototype.putEnemy=function(e){e&&this.enemysPool.put(e)},t.instance=null,__decorate([a(cc.Prefab)],t.prototype,"enemyPre",void 0),t=o=__decorate([c],t);var o}(cc.Component);o.default=s,cc._RF.pop()},{"./EnemyBase":"EnemyBase"}],Follow:[function(e,t,o){"use strict";cc._RF.push(t,"03b13ZeN3RLSZi1e1Fts1Sz","Follow"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./AudioManager"),n=e("./enemy/EnemySpawn"),c=cc._decorator,a=c.ccclass,s=c.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.target=null,t.bgUpAni=null,t.enemySpawn=null,t.speed=1,t.isPlayerAni=!1,t.isboss=!1,t.gameTime=0,t}return __extends(t,e),t.prototype.onLoad=function(){var e=cc.follow(this.target,new cc.Rect(0,0,22600,3200));this.node.runAction(e),this.enemySpawn.enabled=!1,this.gameTime=0},t.prototype.start=function(){},t.prototype.update=function(e){this.gameTime+=e,this.target.x<12877?(this.target.x+=this.speed*e,this.target.x>7500&&this.target.x<=11e3&&!this.isPlayerAni?(this.bgUpAni.play().repeatCount=2,this.isPlayerAni=!0):this.target.x>11e3&&this.isPlayerAni,this.gameTime>2&&this.gameTime<3&&(this.enemySpawn.enabled=!0)):this.isboss||(this.isboss=!0,i.default.instance.playBossMusic()),this.target.x>2500&&this.target.x<12e3?this.target.y<=1520&&(this.target.y+=this.speed*e):this.target.x>12e3&&this.target.x<12877&&this.target.y>=923&&(this.target.x-=this.speed*e,this.target.y-=this.speed*e)},__decorate([s(cc.Node)],t.prototype,"target",void 0),__decorate([s(cc.Animation)],t.prototype,"bgUpAni",void 0),__decorate([s(n.default)],t.prototype,"enemySpawn",void 0),__decorate([s],t.prototype,"speed",void 0),t=__decorate([a],t)}(cc.Component);o.default=r,cc._RF.pop()},{"./AudioManager":"AudioManager","./enemy/EnemySpawn":"EnemySpawn"}],PlayerLogic:[function(e,t,o){"use strict";cc._RF.push(t,"399e7xjMvVLFb6gQadAVj0H","PlayerLogic"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("../BaseLogic"),n=cc._decorator,c=(n.ccclass,n.property,function(e){function t(t){var o=e.call(this)||this;return o.moveSpeed=200,o.zidanMaxNum=5,o.zidanCurNum=0,o.zidanGapTime=.05,o.zidanAddTime=0,o.maxHp=16,o.curHp=16,o.atk=1,o.playerUI=t,o}return __extends(t,e),t.prototype.init=function(){},t}(i.default));o.default=c,cc._RF.pop()},{"../BaseLogic":"BaseLogic"}],Player:[function(e,t,o){"use strict";cc._RF.push(t,"f55c8c5S5tNILt6PoC9K+k+","Player"),Object.defineProperty(o,"__esModule",{value:!0});var i=e("./PlayerLogic"),n=e("../weapon/zidan"),c=e("../AudioManager"),a=e("../Config"),s=cc._decorator,r=s.ccclass,p=s.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.playerZidanPre=null,t.playerPao=null,t.followNode=null,t.keyCodeMap={},t.curKey=-1,t.directionY=0,t.playerLogic=null,t.zidanNodes=null,t}return __extends(t,e),t.prototype.onLoad=function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDonw,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),this.playerLogic=new i.default(this),this.zidanNodes=new cc.NodePool(n.default);for(var e=0;e<10;++e){var t=cc.instantiate(this.playerZidanPre);this.zidanNodes.put(t)}},t.prototype.onDestroy=function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDonw,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},t.prototype.onEnable=function(){cc.director.getCollisionManager().enabled=!0},t.prototype.onDisable=function(){cc.director.getCollisionManager().enabled=!1,cc.director.getCollisionManager().enabledDrawBoundingBox=!1,cc.director.getCollisionManager().enabledDebugDraw=!1},t.prototype.onCollisionEnter=function(e,t){var o=t.world.aabb,i=e.world.aabb;cc.log(e),cc.Intersection.rectRect(o,i)},t.prototype.onCollisionExit=function(){},t.prototype.onKeyDonw=function(e){switch(e.keyCode){case cc.KEY.up:case cc.KEY.w:this.directionY=1;break;case cc.KEY.down:case cc.KEY.s:this.directionY=-1;break;case cc.KEY.left:case cc.KEY.a:this.keyCodeMap[cc.KEY.a]=!0,this.curKey=cc.KEY.a;break;case cc.KEY.right:case cc.KEY.d:this.keyCodeMap[cc.KEY.d]=!0,this.curKey=cc.KEY.d;break;case cc.KEY.j:case cc.KEY.space:this.keyCodeMap[cc.KEY.j]=!0}},t.prototype.onKeyUp=function(e){switch(e.keyCode){case cc.KEY.up:case cc.KEY.w:this.directionY=0;break;case cc.KEY.down:case cc.KEY.s:this.directionY=0;break;case cc.KEY.left:case cc.KEY.a:this.keyCodeMap[cc.KEY.a]=!1;break;case cc.KEY.right:case cc.KEY.d:this.keyCodeMap[cc.KEY.d]=!1;break;case cc.KEY.j:case cc.KEY.space:this.keyCodeMap[cc.KEY.j]=!1}},t.prototype.getKeyPress=function(e){return this.keyCodeMap[e]},t.prototype.update=function(e){var t=this;if(this.keyCodeMap[cc.KEY.a]&&this.keyCodeMap[cc.KEY.d]?this.curKey==cc.KEY.a?this.getKeyPress(cc.KEY.a)?this.node.x-=this.playerLogic.moveSpeed*e:this.node.x+=this.playerLogic.moveSpeed*e:this.curKey==cc.KEY.d&&(this.getKeyPress(cc.KEY.d)?this.node.x+=this.playerLogic.moveSpeed*e:this.node.x-=this.playerLogic.moveSpeed*e):this.getKeyPress(cc.KEY.a)?this.node.x-=this.playerLogic.moveSpeed*e:this.getKeyPress(cc.KEY.d)&&(this.node.x+=this.playerLogic.moveSpeed*e),this.node.y+=this.playerLogic.moveSpeed*e*this.directionY,this.followNode.getPositionX()+this.node.width/2-this.node.getPositionX()>=565?this.node.x=this.followNode.getPositionX()-565+this.node.width/2:this.node.getPositionX()+this.node.width/2-this.followNode.getPositionX()>=565&&(this.node.x=this.followNode.getPositionX()+565-this.node.width/2),this.followNode.getPositionY()+this.node.height/2-this.node.getPositionY()>=320?this.node.y=this.followNode.getPositionY()-320+this.node.height/2:this.node.getPositionY()+this.node.height/2-this.followNode.getPositionY()>=320&&(this.node.y=this.followNode.getPositionY()+320-this.node.height/2),this.playerLogic.zidanAddTime+=e,this.keyCodeMap[cc.KEY.j]&&this.playerLogic.zidanAddTime>this.playerLogic.zidanGapTime&&this.playerLogic.zidanCurNum<this.playerLogic.zidanMaxNum){c.default.instance.playEffectByType(a.AudioType.PLYAER_ZIDAN);var o=this.getZidan(),i=this.node.convertToWorldSpaceAR(this.playerPao.position),s=this.node.parent.convertToNodeSpaceAR(i);o.parent=this.node.parent,o.getComponent(n.default).init(s),o.getComponent(n.default).setPutCallBack(function(){t.playerLogic.zidanCurNum--,t.putZidan(o)}),this.playerLogic.zidanAddTime=0,this.playerLogic.zidanCurNum++}},t.prototype.getZidan=function(){if(this.zidanNodes.size()<=0){var e=cc.instantiate(this.playerZidanPre);this.zidanNodes.put(e)}return this.zidanNodes.get()},t.prototype.putZidan=function(e){e&&this.zidanNodes.put(e)},__decorate([p(cc.Prefab)],t.prototype,"playerZidanPre",void 0),__decorate([p(cc.Node)],t.prototype,"playerPao",void 0),__decorate([p(cc.Node)],t.prototype,"followNode",void 0),t=__decorate([r],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../AudioManager":"AudioManager","../Config":"Config","../weapon/zidan":"Zidan","./PlayerLogic":"PlayerLogic"}],Zidan:[function(e,t,o){"use strict";cc._RF.push(t,"521f56g7ZZG24sDyJfVvDL8","Zidan"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,c=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.speed=500,t._putCallBack=null,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.init=function(e){var t=this;this.node.position=e,this.node.active=!0;var o=1130/this.speed;this.node.stopAllActions(),this.node.runAction(cc.moveBy(o,cc.p(1130,0))),this.scheduleOnce(function(){t._putCallBack&&(t._putCallBack(),t._putCallBack=null)},o)},t.prototype.setPutCallBack=function(e){this._putCallBack=e},t.prototype.onCollisionEnter=function(e,t){this.unscheduleAllCallbacks(),this._putCallBack&&(this._putCallBack(),this._putCallBack=null)},t.prototype.onCollisionExit=function(e,t){},t=__decorate([n],t)}(cc.Component));o.default=c,cc._RF.pop()},{}]},{},["AudioManager","BaseLogic","Config","Follow","Bird","EnemyBase","EnemySpawn","Player","PlayerLogic","Zidan"]);